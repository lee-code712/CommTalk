{"version":3,"file":"js/973.ecaafaa1.js","mappings":"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","sources":["webpack://frontend/./src/views/ListView.vue","webpack://frontend/./src/views/ListView.vue?c025"],"sourcesContent":["<template>\r\n  <div class=\"list-view\">\r\n    <HeaderLayout />\r\n    <SubHeader />\r\n\r\n    <div class=\"full-container\">\r\n      <div class=\"sub-top-wrap\">\r\n        <strong class=\"board-name\">{{ boardName }}</strong>\r\n        <div class=\"search-wrap\">\r\n          <input type=\"search\" v-model=\"keyword\" placeholder=\"내용을 입력해주세요.\" />\r\n          <img src=\"@/assets/images/fi-rr-search.png\" @click=\"fetchPosts\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"list-wrap\">\r\n        <ul>\r\n          <li class=\"list\" v-for=\"board in boards\" :key=\"board.postId\">\r\n            <a :href=\"'/detail?postId=' + board.postId\">\r\n            <div class=\"list-title-wrap\">\r\n              <div class=\"title\">{{ board.title }}</div>\r\n              <img :src=\"require(`@/assets/images/${board.imgName}.png`)\" @click=\"changeImg(board)\" />\r\n            </div>\r\n\r\n            <div class=\"list-content\">{{ board.content }}</div>\r\n\r\n            <div class=\"list-detail-info\">\r\n              <div class=\"comment-like-wrap\">\r\n                <div class=\"comment-box\">\r\n                  <img src=\"@/assets/images/fi-rr-comment.png\" style=\"width: 12px; height: 12px;\" />\r\n                  댓글 {{ board.commentCnt }}\r\n                </div>\r\n                <div class=\"like-box\">\r\n                  <img src=\"@/assets/images/fi-rr-thumbs-up.png\" style=\"width: 14px; height: 14px;\" />\r\n                  공감 {{ board.likes }}\r\n                </div>\r\n                <div class=\"view-box\">\r\n                  <img src=\"@/assets/images/fi-rr-eye.png\" style=\"width: 14px; height: 14px;\" />\r\n                  조회수 {{ board.views }}\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"writer-date-wrap\">\r\n                <div class=\"writer\">{{ board.author.nickname }}</div>\r\n                <div class=\"date\">{{ board.createdAt }}</div>\r\n              </div>\r\n            </div>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div class=\"paging-wrap\">\r\n        <div class=\"paging-inner\">\r\n          <div class=\"prev-btn\" @click=\"loadPage('previous')\" :disabled=\"pageNumber === 1\">이전</div>\r\n          <div class=\"paging-num-wrap\">\r\n            <div v-for=\"page in totalPages\" :key=\"page\" :class=\"{ 'on': page === pageNumber }\" @click=\"gotoPage(page)\">{{ page }}</div>\r\n          </div>\r\n          <div class=\"next-btn\" @click=\"loadPage('next')\" :disabled=\"pageNumber === totalPages\">다음</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"btn-wrap\">\r\n        <router-link :to=\"'/edit?boardId=' + boardId\" class=\"router-link-class\">\r\n          <button class=\"write-btn\">글쓰기</button>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n    <FooterLayout />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport HeaderLayout from '@/components/layout/HeaderLayout.vue';\r\nimport SubHeader from '@/components/layout/SubHeader.vue';\r\nimport FooterLayout from '@/components/layout/FooterLayout.vue';\r\n\r\nexport default {\r\n  name: 'ListView',\r\n  components: {\r\n    HeaderLayout,\r\n    SubHeader,\r\n    FooterLayout,\r\n  },\r\n  data() {\r\n    return {\r\n      boards: [],\r\n      boardName: '',\r\n      boardId: this.$route.query.boardId,\r\n      pageNumber: 1,\r\n      pageSize: 10, // 페이지당 게시글 수\r\n      totalPages: '', // 전체 페이지 수\r\n      keyword: '',\r\n    };\r\n  },\r\n  created() {\r\n    this.setupHeaders();\r\n    this.fetchData();\r\n    this.getBoardName();\r\n  },\r\n  methods: {\r\n    setupHeaders() {\r\n      const token = localStorage.getItem('token');\r\n      this.link = 'http://' + window.location.host;\r\n      this.headers = {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n      };\r\n    },\r\n    changeImg(board) {\r\n        event.preventDefault();\r\n      if (board.scraped === false) {\r\n        board.imgName = 'fi-sr-bookmark';\r\n        board.scraped = true;\r\n      } else {\r\n        board.imgName = 'fi-rr-bookmark';\r\n        board.scraped = false;\r\n      }\r\n    },\r\n    loadPage(action) {\r\n      if (action === 'previous' && this.pageNumber > 1) {\r\n        this.pageNumber--;\r\n      } else if (action === 'next' && this.pageNumber < this.totalPages) {\r\n        this.pageNumber++;\r\n      }\r\n      this.fetchData();\r\n    },\r\n    gotoPage(page) {\r\n      if (page >= 1 && page <= this.totalPages) {\r\n        this.pageNumber = page;\r\n        this.fetchData();\r\n      }\r\n    },\r\n    fetchData() {\r\n      const boardId = this.$route.query.boardId;\r\n      const data = {\r\n        page: this.pageNumber,\r\n        size: this.pageSize,\r\n      };\r\n\r\n      axios\r\n        .get(`/api/post/getPostsByBoard/${boardId}`, data, { headers: this.headers })\r\n        .then(response => {\r\n          this.boards = response.data.posts.map(post => {\r\n            if (post.scraped === false) {\r\n              post.imgName = 'fi-rr-bookmark';\r\n            } else {\r\n              post.imgName = 'fi-sr-bookmark';\r\n            }\r\n            return post;\r\n          });\r\n\r\n          this.totalPages = response.data.totalPages;\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    getBoardName() {\r\n      const boardId = this.$route.query.boardId;\r\n      axios\r\n        .get(`/api/post/getBoard/${boardId}`, { headers: this.headers })\r\n        .then(response => {\r\n          this.boardName = response.data.boardName;\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    fetchPosts() {\r\n      if (!this.keyword) return;\r\n\r\n       const data = {\r\n        page: this.pageNumber,\r\n        size: this.pageSize,\r\n      };\r\n\r\n      axios\r\n        .get(`/api/common/getPosts/${this.keyword}`, data, { headers: this.headers })\r\n        .then(response => {\r\n          this.boards = response.data.posts.map(post => {\r\n            if (post.scraped === false) {\r\n              post.imgName = 'fi-rr-bookmark';\r\n            } else {\r\n              post.imgName = 'fi-sr-bookmark';\r\n            }\r\n            return post;\r\n          });\r\n\r\n          this.totalPages = response.data.totalPages;\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"@/assets/scss/list.scss\";\r\n@import \"@/assets/scss/pattern.scss\";\r\n@import \"@/assets/scss/layout.scss\";\r\n</style>\r\n","import { render } from \"./ListView.vue?vue&type=template&id=664cbc6d&scoped=true\"\nimport script from \"./ListView.vue?vue&type=script&lang=js\"\nexport * from \"./ListView.vue?vue&type=script&lang=js\"\n\nimport \"./ListView.vue?vue&type=style&index=0&id=664cbc6d&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-664cbc6d\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","_imports_1","style","_imports_2","_imports_3","_createElementBlock","_hoisted_1","_createVNode","_component_HeaderLayout","_component_SubHeader","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$data","boardName","_hoisted_5","type","keyword","$event","placeholder","_imports_0","onClick","_cache","args","$options","fetchPosts","_hoisted_6","_Fragment","_renderList","boards","board","key","postId","href","_hoisted_8","_hoisted_9","title","require","imgName","changeImg","_hoisted_11","content","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","commentCnt","_hoisted_16","_hoisted_17","likes","_hoisted_18","_hoisted_19","views","_hoisted_20","_hoisted_21","author","nickname","_hoisted_22","createdAt","_hoisted_23","_hoisted_24","loadPage","disabled","pageNumber","_hoisted_25","_hoisted_26","totalPages","page","_normalizeClass","gotoPage","_hoisted_27","_hoisted_28","_hoisted_29","_component_router_link","to","boardId","_hoisted_30","_component_FooterLayout","name","components","HeaderLayout","SubHeader","FooterLayout","data","this","$route","query","pageSize","created","setupHeaders","fetchData","getBoardName","methods","token","localStorage","getItem","link","window","location","host","headers","event","preventDefault","scraped","action","size","axios","get","then","response","posts","map","post","catch","err","console","error","__exports__","render"],"sourceRoot":""}