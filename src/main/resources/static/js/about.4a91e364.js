"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[443],{2604:function(e,t,s){s.r(t),s.d(t,{default:function(){return Se}});var o=s(6252),n=s(3577),a=s(9963),i=s(4192),c=s(580);const l=e=>((0,o.dD)("data-v-0289fccc"),e=e(),(0,o.Cn)(),e),m={class:"about"},r={class:"full-container"},d={class:"left-content"},h={class:"board-content-wrap"},p={class:"board-content-header"},g={class:"board-title-wrap"},u={class:"label-title-wrap"},k={class:"board-label"},y={class:"title"},w=l((()=>(0,o._)("div",{class:"msg-notice-wrap"},[(0,o._)("span",null,"쪽지"),(0,o._)("span",null,"신고")],-1))),_={class:"writer-date-wrap"},b={class:"board-content-body"},v={class:"board-content"},C={class:"hashtags"},I={class:"other-comment-wrap"},x={class:"comment-btn"},f=l((()=>(0,o._)("img",{style:{width:"12px",height:"12px"},src:i},null,-1))),A=l((()=>(0,o._)("div",{class:"hr"},"|",-1))),D=["src"],z=["src"],R=["src"],S={key:0,class:"comment-wrap"},U={class:"comment-box-inner"},$={class:"comment-header"},L={class:"writer-date-wrap"},N=l((()=>(0,o._)("div",{class:"msg-notice-wrap"},[(0,o._)("span",null,"쪽지"),(0,o._)("span",null,"신고")],-1))),H={class:"comment-body"},E={class:"comment"},Z={class:"activity-wrap"},q=["onClick"],P=l((()=>(0,o._)("img",{style:{width:"12px",height:"12px"},src:i},null,-1))),V=["onClick"],B=["src"],K={key:0,class:"comment-box on reply"},W={class:"comment-box-inner"},Y=l((()=>(0,o._)("img",{style:{width:"14px",height:"14px"},src:c},null,-1))),F={class:"my-comment-wrap"},T={class:"my-comment-btn-wrap"},j={class:"file-anonymous-wrap"},G={class:"anonymous"},J={class:"checkbox-container"},M=["id"],O=["for"],Q=l((()=>(0,o._)("span",{class:"checkbox-icon"},null,-1))),X=["onClick"],ee={class:"comment-box-inner"},te=l((()=>(0,o._)("img",{style:{width:"14px",height:"14px"},src:c},null,-1))),se={class:"detail-info"},oe={class:"comment-header"},ne={class:"writer-date-wrap"},ae=l((()=>(0,o._)("div",{class:"msg-notice-wrap"},[(0,o._)("span",null,"쪽지"),(0,o._)("span",null,"신고")],-1))),ie={class:"comment-body"},ce={class:"comment"},le={class:"activity-wrap"},me=["onClick"],re=["src"],de={class:"my-comment-wrap"},he={class:"my-comment-btn-wrap"},pe={class:"file-anonymous-wrap"},ge={class:"anonymous"},ue={class:"checkbox-container"},ke=["id"],ye=["for"],we=l((()=>(0,o._)("span",{class:"checkbox-icon"},null,-1))),_e=["href"],be=l((()=>(0,o._)("button",{type:"button",class:"list-btn"},"목록보기",-1))),ve=[be];function Ce(e,t,i,c,l,be){const Ce=(0,o.up)("HeaderLayout"),Ie=(0,o.up)("SubHeader"),xe=(0,o.up)("FooterLayout");return(0,o.wg)(),(0,o.iD)("div",m,[(0,o.Wm)(Ce),(0,o.Wm)(Ie),(0,o._)("div",r,[(0,o._)("div",d,[(0,o._)("div",h,[(0,o._)("div",p,[(0,o._)("div",g,[(0,o._)("div",u,[(0,o._)("div",k,(0,n.zw)(l.boardLabel),1),(0,o._)("strong",y,(0,n.zw)(l.title),1)]),w]),(0,o._)("div",_,[(0,o._)("span",null,(0,n.zw)(l.writer),1),(0,o._)("span",null,(0,n.zw)(l.date),1)])]),(0,o._)("div",b,[(0,o._)("div",v,(0,n.zw)(l.content),1),(0,o._)("div",C,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.hashtags,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"hashtag",key:t},"#"+(0,n.zw)(e.hashtag),1)))),128))])])]),(0,o._)("div",I,[(0,o._)("div",{class:(0,n.C_)(["activity-wrap",{"no-margin":l.showComment.open}])},[(0,o._)("div",x,[f,(0,o.Uk)(" 댓글 "+(0,n.zw)(l.commentCount)+" ",1),A,(0,o._)("span",{class:"angle-icon",onClick:t[0]||(t[0]=(...e)=>be.toggleComment&&be.toggleComment(...e))},[(0,o._)("img",{style:{"margin-top":"3px",width:"16px",height:"16px"},src:be.angleIconSrc},null,8,D)])]),(0,o._)("div",{class:"like-btn",onClick:t[1]||(t[1]=e=>be.changeLikeImg())},[(0,o._)("img",{style:{width:"14px",height:"14px"},src:s(260)(`./${l.likeImgName}.png`)},null,8,z),(0,o.Uk)(" 공감 "+(0,n.zw)(l.likeCount),1)]),(0,o._)("div",{class:"scrap-btn",onClick:t[2]||(t[2]=e=>be.changeScrapImg())},[(0,o._)("img",{style:{width:"14px",height:"14px"},src:s(260)(`./${l.scrapImgName}.png`)},null,8,R),(0,o.Uk)(" 스크랩 "+(0,n.zw)(l.scrapCount),1)])],2),l.showComment.open?((0,o.wg)(),(0,o.iD)("div",S,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.comments,((e,s)=>((0,o.wg)(),(0,o.iD)("div",{class:"comment-box",key:s},[(0,o._)("div",U,[(0,o._)("div",$,[(0,o._)("div",L,[(0,o._)("span",null,(0,n.zw)(e.writer.nickname),1),(0,o._)("span",null,(0,n.zw)(e.createdAt),1)]),N]),(0,o._)("div",H,[(0,o._)("div",E,(0,n.zw)(e.content),1),(0,o._)("div",Z,[(0,o._)("div",{class:"comment-btn",onClick:e=>be.toggleReply(s)},[P,(0,o.Uk)(" 대댓글 달기 "+(0,n.zw)(e.childCnt),1)],8,q),(0,o._)("div",{class:"like-btn",onClick:t=>be.toggleLike(e.commentId)},[(0,o._)("img",{style:{width:"14px",height:"14px"},src:e.likeStatus?l.likeImgActive:l.likeImg},null,8,B),(0,o.Uk)(" 공감하기 "+(0,n.zw)(e.likes),1)],8,V)])])]),e.showReply&&"undefined"!==e.showReply?((0,o.wg)(),(0,o.iD)("div",K,[(0,o._)("div",W,[Y,(0,o._)("div",F,[(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.replyData.reply=e),class:"my-comment",placeholder:"댓글을 입력하세요."},null,512),[[a.nr,l.replyData.reply]]),(0,o._)("div",T,[(0,o._)("div",j,[(0,o._)("div",G,[(0,o._)("div",J,[(0,o.wy)((0,o._)("input",{type:"checkbox",id:"checkbox-"+s,"onUpdate:modelValue":t[4]||(t[4]=e=>l.replyData.isReplyAnonymous=e)},null,8,M),[[a.e8,l.replyData.isReplyAnonymous]]),(0,o._)("label",{for:"checkbox-"+s},[Q,(0,o.Uk)(" 익명 ")],8,O)])])]),(0,o._)("button",{class:"submit-btn",onClick:t=>be.createComment(l.postId,e.commentId)},"등록",8,X)])])])])):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.childs,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"comment-box on",key:t},[(0,o._)("div",ee,[te,(0,o._)("div",se,[(0,o._)("div",oe,[(0,o._)("div",ne,[(0,o._)("span",null,(0,n.zw)(e.writer.nickname),1),(0,o._)("span",null,(0,n.zw)(e.createdAt),1)]),ae]),(0,o._)("div",ie,[(0,o._)("div",ce,(0,n.zw)(e.content),1),(0,o._)("div",le,[(0,o._)("div",{class:"like-btn",onClick:t=>be.toggleReplyLike(e.commentId)},[(0,o._)("img",{style:{width:"14px",height:"14px"},src:e.likeStatus?l.likeImgActive:l.likeImg},null,8,re),(0,o.Uk)(" 공감하기 "+(0,n.zw)(e.likes),1)],8,me)])])])])])))),128))])))),128))])):(0,o.kq)("",!0)]),(0,o._)("div",de,[(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.commentData.myComment=e),class:"my-comment",placeholder:"댓글을 입력하세요."},null,512),[[a.nr,l.commentData.myComment]]),(0,o._)("div",he,[(0,o._)("div",pe,[(0,o._)("div",ge,[(0,o._)("div",ue,[(0,o.wy)((0,o._)("input",{type:"checkbox",id:"checkbox2-"+e.commentIndex,"onUpdate:modelValue":t[6]||(t[6]=e=>l.commentData.isCommentAnonymous=e)},null,8,ke),[[a.e8,l.commentData.isCommentAnonymous]]),(0,o._)("label",{for:"checkbox2-"+e.commentIndex},[we,(0,o.Uk)(" 익명 ")],8,ye)])])]),(0,o._)("button",{class:"submit-btn",onClick:t[7]||(t[7]=e=>be.createComment(l.postId))},"등록")])]),(0,o._)("a",{href:"/list?boardId="+l.boardId},ve,8,_e)])]),(0,o.Wm)(xe)])}s(7658);var Ie=s(6154),xe=s(9937),fe=s(3610),Ae=s(4014),De={name:"AboutView",components:{HeaderLayout:xe.Z,SubHeader:fe.Z,FooterLayout:Ae.Z},data(){return{headers:[],link:"",likeImg:s(4268),likeImgActive:s(3545),postId:this.$route.query.postId,showComment:{open:"true"},boardLabel:"",boardId:"",title:"",writer:"",date:"",content:"",hashtags:[],commentCount:"",likeCount:"",scrapCount:"",scrapImgName:"fi-rr-bookmark",likeImgName:"fi-rr-thumbs-up",comments:[],replies:[],commentData:{myComment:"",isCommentAnonymous:!1},replyData:{reply:"",isReplyAnonymous:!1}}},created(){this.setupHeaders(),this.getPostDetail(),this.getCommentsByPost()},computed:{angleIconSrc(){return this.showComment.open?s(8483):s(2421)}},methods:{setupHeaders(){const e=localStorage.getItem("token");console.log(e),this.link="http://"+window.location.host,this.headers={Authorization:`Bearer ${e}`,"Content-Type":"application/json"}},toggleLike(e){const t=this.comments.find((t=>t.commentId===e));t&&(t.likeStatus=!t.likeStatus,this.changeEngagementAction(e,"clike"),this.$forceUpdate())},changeEngagementAction(e,t){console.log("&&&"),console.log(e),console.log(t),t=t.toString();const s={refId:e,actionType:t};Ie.Z.post("/api/post/changeEngagementAction",s,{headers:this.headers}).then((e=>{console.log(e.data),this.$router.go()})).catch((e=>{console.error(e)}))},toggleReplyLike(e){const t=this.replies.find((t=>t.commentId===e));t&&(t.likeStatus=!t.likeStatus,this.changeEngagementAction(e,"clike"),this.$forceUpdate())},toggleComment(){this.showComment.open=!this.showComment.open},toggleReply(e){console.log(e),console.log(this.comments[e].showReply),this.comments[e]&&(this.comments[e].showReply=!this.comments[e].showReply)},changeScrapImg(){const e=this.$route.query.postId;this.changeEngagementAction(e,"scrap"),"fi-rr-bookmark"===this.scrapImgName?this.scrapImgName="fi-sr-bookmark":this.scrapImgName="fi-rr-bookmark"},createComment(e,t){let s,o;t?(s=this.replyData.reply,o=this.replyData.isReplyAnonymous?1:0):(s=this.commentData.myComment,o=this.commentData.isCommentAnonymous?1:0);const n={postId:e,parentId:t,content:s,isAnonymous:o};Ie.Z.post("/api/post/createComment",n,{headers:this.headers}).then((e=>{console.log(e.data),this.$router.go()})).catch((e=>{console.error(e)}))},changeLikeImg(){const e=this.$route.query.postId;this.changeEngagementAction(e,"plike"),"fi-rr-thumbs-up"===this.likeImgName?this.likeImgName="fi-sr-thumbs-up":this.likeImgName="fi-rr-thumbs-up"},getCommentsByPost(){const e=this.$route.query.postId;Ie.Z.get(`/api/post/getCommentsByPost/${e}`,{headers:this.headers}).then((e=>{console.log("!!!!!"),console.log(e.data);const t=e.data;t.forEach((e=>{const t={commentId:e.commentId,content:e.content,createdAt:e.createdAt,liked:e.liked,likes:e.likes,writer:e.writer,childs:[],childCnt:e.childCnt,showReply:!1};e.childs.forEach((e=>{const s={commentId:e.commentId,content:e.content,createdAt:e.createdAt,liked:e.liked,likes:e.likes,writer:e.writer};t.childs.push(s),this.replies.push(s)})),this.comments.push(t)}))})).catch((e=>{console.error(e)}))},getPostDetail(){const e=this.$route.query.postId;Ie.Z.get(`/api/post/getPostDetail/${e}`,{headers:this.headers}).then((e=>{const t=e.data;console.log("@@@####"),console.log(t),this.boardLabel=t.board.boardName,this.boardId=t.board.boardId,this.title=t.title,this.writer=t.author.nickname,this.date=t.createdAt,this.content=t.content,this.hashtags=t.hashtags,this.commentCount=t.commentCnt,this.likeCount=t.likes,this.scrapCount=t.scraps})).catch((e=>{console.error(e)}))}}},ze=s(3744);const Re=(0,ze.Z)(De,[["render",Ce],["__scopeId","data-v-0289fccc"]]);var Se=Re}}]);
//# sourceMappingURL=about.4a91e364.js.map