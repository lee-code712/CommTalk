"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[443],{8022:function(t,e,s){s.r(e),s.d(e,{default:function(){return ft}});var o=s(6252),n=s(3577),a=s(9963),l=s(4192),i=s(580);const c=t=>((0,o.dD)("data-v-5f0f07cc"),t=t(),(0,o.Cn)(),t),m={class:"about"},r={class:"full-container"},d={class:"left-content"},h={class:"board-content-wrap"},p={class:"board-content-header"},g={class:"board-title-wrap"},u={class:"label-title-wrap"},y={class:"board-label"},w={class:"title"},k=c((()=>(0,o._)("div",{class:"msg-notice-wrap"},[(0,o._)("span",null,"쪽지"),(0,o._)("span",null,"신고")],-1))),_={class:"writer-date-wrap"},b={class:"board-content-body"},v={class:"board-content"},C={class:"hashtags"},I={class:"other-comment-wrap"},f={class:"comment-btn"},x=c((()=>(0,o._)("img",{style:{width:"12px",height:"12px"},src:l},null,-1))),A=c((()=>(0,o._)("div",{class:"hr"},"|",-1))),D=["src"],z=["src"],R=["src"],S={key:0,class:"comment-wrap"},$={class:"comment-box-inner"},L={class:"comment-header"},U={class:"writer-date-wrap"},N=c((()=>(0,o._)("div",{class:"msg-notice-wrap"},[(0,o._)("span",null,"쪽지"),(0,o._)("span",null,"신고")],-1))),H={class:"comment-body"},E={class:"comment"},Z={class:"activity-wrap"},q=["onClick"],P=c((()=>(0,o._)("img",{style:{width:"12px",height:"12px"},src:l},null,-1))),V=["onClick"],B=["src"],K={key:0,class:"comment-box on reply"},W={class:"comment-box-inner"},Y=c((()=>(0,o._)("img",{style:{width:"14px",height:"14px"},src:i},null,-1))),F={class:"my-comment-wrap"},T={class:"my-comment-btn-wrap"},j={class:"file-anonymous-wrap"},G={class:"anonymous"},J=c((()=>(0,o._)("span",null,"익명",-1))),M=["onClick"],O={class:"comment-box-inner"},Q=c((()=>(0,o._)("img",{style:{width:"14px",height:"14px"},src:i},null,-1))),X={class:"detail-info"},tt={class:"comment-header"},et={class:"writer-date-wrap"},st=c((()=>(0,o._)("div",{class:"msg-notice-wrap"},[(0,o._)("span",null,"쪽지"),(0,o._)("span",null,"신고")],-1))),ot={class:"comment-body"},nt={class:"comment"},at={class:"activity-wrap"},lt=["onClick"],it=["src"],ct={class:"my-comment-wrap"},mt={class:"my-comment-btn-wrap"},rt={class:"file-anonymous-wrap"},dt={class:"anonymous"},ht=c((()=>(0,o._)("span",null,"익명",-1))),pt=["href"],gt=c((()=>(0,o._)("button",{type:"button",class:"list-btn"},"목록보기",-1))),ut=[gt];function yt(t,e,l,i,c,gt){const yt=(0,o.up)("HeaderLayout"),wt=(0,o.up)("SubHeader"),kt=(0,o.up)("FooterLayout");return(0,o.wg)(),(0,o.iD)("div",m,[(0,o.Wm)(yt),(0,o.Wm)(wt),(0,o._)("div",r,[(0,o._)("div",d,[(0,o._)("div",h,[(0,o._)("div",p,[(0,o._)("div",g,[(0,o._)("div",u,[(0,o._)("div",y,(0,n.zw)(c.boardLabel),1),(0,o._)("strong",w,(0,n.zw)(c.title),1)]),k]),(0,o._)("div",_,[(0,o._)("span",null,(0,n.zw)(c.writer),1),(0,o._)("span",null,(0,n.zw)(c.date),1)])]),(0,o._)("div",b,[(0,o._)("div",v,(0,n.zw)(c.content),1),(0,o._)("div",C,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.hashtags,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{class:"hashtag",key:e},"#"+(0,n.zw)(t.hashtag),1)))),128))])])]),(0,o._)("div",I,[(0,o._)("div",{class:(0,n.C_)(["activity-wrap",{"no-margin":c.showComment.open}])},[(0,o._)("div",f,[x,(0,o.Uk)(" 댓글 "+(0,n.zw)(c.commentCount)+" ",1),A,(0,o._)("span",{class:"angle-icon",onClick:e[0]||(e[0]=(...t)=>gt.toggleComment&&gt.toggleComment(...t))},[(0,o._)("img",{style:{width:"16px",height:"16px"},src:gt.angleIconSrc},null,8,D)])]),(0,o._)("div",{class:"like-btn",onClick:e[1]||(e[1]=t=>gt.changeLikeImg())},[(0,o._)("img",{style:{width:"14px",height:"14px"},src:s(260)(`./${c.likeImgName}.png`)},null,8,z),(0,o.Uk)(" 공감 "+(0,n.zw)(c.likeCount),1)]),(0,o._)("div",{class:"scrap-btn",onClick:e[2]||(e[2]=t=>gt.changeScrapImg())},[(0,o._)("img",{style:{width:"14px",height:"14px"},src:s(260)(`./${c.scrapImgName}.png`)},null,8,R),(0,o.Uk)(" 스크랩 "+(0,n.zw)(c.scrapCount),1)])],2),c.showComment.open?((0,o.wg)(),(0,o.iD)("div",S,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.comments,((t,s)=>((0,o.wg)(),(0,o.iD)("div",{class:"comment-box",key:s},[(0,o._)("div",$,[(0,o._)("div",L,[(0,o._)("div",U,[(0,o._)("span",null,(0,n.zw)(t.writer.nickname),1),(0,o._)("span",null,(0,n.zw)(t.createdAt),1)]),N]),(0,o._)("div",H,[(0,o._)("div",E,(0,n.zw)(t.content),1),(0,o._)("div",Z,[(0,o._)("div",{class:"comment-btn",onClick:t=>gt.toggleReply(s)},[P,(0,o.Uk)(" 대댓글 달기 "+(0,n.zw)(t.childCnt),1)],8,q),(0,o._)("div",{class:"like-btn",onClick:e=>gt.toggleLike(t.commentId)},[(0,o._)("img",{style:{width:"14px",height:"14px"},src:t.likeStatus?c.likeImgActive:c.likeImg},null,8,B),(0,o.Uk)(" 공감하기 "+(0,n.zw)(t.likes),1)],8,V)])])]),t.showReply&&"undefined"!==t.showReply?((0,o.wg)(),(0,o.iD)("div",K,[(0,o._)("div",W,[Y,(0,o._)("div",F,[(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":e[3]||(e[3]=t=>c.replyData.reply=t),class:"my-comment",placeholder:"댓글을 입력하세요."},null,512),[[a.nr,c.replyData.reply]]),(0,o._)("div",T,[(0,o._)("div",j,[(0,o._)("div",G,[(0,o._)("label",null,[(0,o.wy)((0,o._)("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=t=>c.replyData.isReplyAnonymous=t)},null,512),[[a.e8,c.replyData.isReplyAnonymous]]),J])])]),(0,o._)("button",{class:"submit-btn",onClick:e=>gt.createComment(c.postId,t.commentId)},"등록",8,M)])])])])):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.childs,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{class:"comment-box on",key:e},[(0,o._)("div",O,[Q,(0,o._)("div",X,[(0,o._)("div",tt,[(0,o._)("div",et,[(0,o._)("span",null,(0,n.zw)(t.writer.nickname),1),(0,o._)("span",null,(0,n.zw)(t.createdAt),1)]),st]),(0,o._)("div",ot,[(0,o._)("div",nt,(0,n.zw)(t.content),1),(0,o._)("div",at,[(0,o._)("div",{class:"like-btn",onClick:e=>gt.toggleReplyLike(t.commentId)},[(0,o._)("img",{style:{width:"14px",height:"14px"},src:t.likeStatus?c.likeImgActive:c.likeImg},null,8,it),(0,o.Uk)(" 공감하기 "+(0,n.zw)(t.likes),1)],8,lt)])])])])])))),128))])))),128))])):(0,o.kq)("",!0)]),(0,o._)("div",ct,[(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":e[5]||(e[5]=t=>c.commentData.myComment=t),class:"my-comment",placeholder:"댓글을 입력하세요."},null,512),[[a.nr,c.commentData.myComment]]),(0,o._)("div",mt,[(0,o._)("div",rt,[(0,o._)("div",dt,[(0,o._)("label",null,[(0,o.wy)((0,o._)("input",{type:"checkbox","onUpdate:modelValue":e[6]||(e[6]=t=>c.commentData.isCommentAnonymous=t)},null,512),[[a.e8,c.commentData.isCommentAnonymous]]),ht])])]),(0,o._)("button",{class:"submit-btn",onClick:e[7]||(e[7]=t=>gt.createComment(c.postId))},"등록")])]),(0,o._)("a",{href:"/list?boardId="+c.boardId},ut,8,pt)])]),(0,o.Wm)(kt)])}s(7658);var wt=s(6154),kt=s(9937),_t=s(3610),bt=s(4014),vt={name:"AboutView",components:{HeaderLayout:kt.Z,SubHeader:_t.Z,FooterLayout:bt.Z},data(){return{headers:[],link:"",likeImg:s(4268),likeImgActive:s(3545),postId:this.$route.query.postId,showComment:{open:"true"},boardLabel:"",boardId:"",title:"",writer:"",date:"",content:"",hashtags:[],commentCount:"",likeCount:"",scrapCount:"",scrapImgName:"fi-rr-bookmark",likeImgName:"fi-rr-thumbs-up",comments:[],replies:[],commentData:{myComment:"",isCommentAnonymous:!1},replyData:{reply:"",isReplyAnonymous:!1}}},created(){this.setupHeaders(),this.getPostDetail(),this.getCommentsByPost()},computed:{angleIconSrc(){return this.showComment.open?s(8483):s(2421)}},methods:{setupHeaders(){const t=localStorage.getItem("token");console.log(t),this.link="http://"+window.location.host,this.headers={Authorization:`Bearer ${t}`,"Content-Type":"application/json"}},toggleLike(t){const e=this.comments.find((e=>e.commentId===t));e&&(e.likeStatus=!e.likeStatus,this.changeEngagementAction(t,"clike"),this.$forceUpdate())},changeEngagementAction(t,e){console.log("&&&"),console.log(t),console.log(e),e=e.toString();const s={refId:t,actionType:e};wt.Z.post("/api/post/changeEngagementAction",s,{headers:this.headers}).then((t=>{console.log(t.data),this.$router.go()})).catch((t=>{console.error(t)}))},toggleReplyLike(t){const e=this.replies.find((e=>e.commentId===t));e&&(e.likeStatus=!e.likeStatus,this.changeEngagementAction(t,"clike"),this.$forceUpdate())},toggleComment(){this.showComment.open=!this.showComment.open},toggleReply(t){console.log(t),console.log(this.comments[t].showReply),this.comments[t]&&(this.comments[t].showReply=!this.comments[t].showReply)},changeScrapImg(){const t=this.$route.query.postId;this.changeEngagementAction(t,"scrap"),"fi-rr-bookmark"===this.scrapImgName?this.scrapImgName="fi-sr-bookmark":this.scrapImgName="fi-rr-bookmark"},createComment(t,e){let s,o;e?(s=this.replyData.reply,o=this.replyData.isReplyAnonymous?1:0):(s=this.commentData.myComment,o=this.commentData.isCommentAnonymous?1:0);const n={postId:t,parentId:e,content:s,isAnonymous:o};wt.Z.post("/api/post/createComment",n,{headers:this.headers}).then((t=>{console.log(t.data),this.$router.go()})).catch((t=>{console.error(t)}))},changeLikeImg(){const t=this.$route.query.postId;this.changeEngagementAction(t,"plike"),"fi-rr-thumbs-up"===this.likeImgName?this.likeImgName="fi-sr-thumbs-up":this.likeImgName="fi-rr-thumbs-up"},getCommentsByPost(){const t=this.$route.query.postId;wt.Z.get(`/api/post/getCommentsByPost/${t}`,{headers:this.headers}).then((t=>{console.log("!!!!!"),console.log(t.data);const e=t.data;e.forEach((t=>{const e={commentId:t.commentId,content:t.content,createdAt:t.createdAt,liked:t.liked,likes:t.likes,writer:t.writer,childs:[],childCnt:t.childCnt,showReply:!1};t.childs.forEach((t=>{const s={commentId:t.commentId,content:t.content,createdAt:t.createdAt,liked:t.liked,likes:t.likes,writer:t.writer};e.childs.push(s),this.replies.push(s)})),this.comments.push(e)}))})).catch((t=>{console.error(t)}))},getPostDetail(){const t=this.$route.query.postId;wt.Z.get(`/api/post/getPostDetail/${t}`,{headers:this.headers}).then((t=>{const e=t.data;console.log("@@@####"),console.log(e),this.boardLabel=e.board.boardName,this.boardId=e.board.boardId,this.title=e.title,this.writer=e.author.nickname,this.date=e.createdAt,this.content=e.content,this.hashtags=e.hashtags,this.commentCount=e.commentCnt,this.likeCount=e.likes,this.scrapCount=e.scraps})).catch((t=>{console.error(t)}))}}},Ct=s(3744);const It=(0,Ct.Z)(vt,[["render",yt],["__scopeId","data-v-5f0f07cc"]]);var ft=It}}]);
//# sourceMappingURL=about.d3c36093.js.map