"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[769],{8126:function(e,a,n){n.d(a,{Z:function(){return m}});var o=n(6252);const s={class:"mypage-header"},r=(0,o._)("div",{class:"admin-header-inner"},null,-1),t=[r];function l(e,a,n,r,l,i){return(0,o.wg)(),(0,o.iD)("div",s,t)}var i={name:"AdminHeader"},d=n(3744);const c=(0,d.Z)(i,[["render",l]]);var m=c},1792:function(e,a,n){n.d(a,{Z:function(){return u}});var o=n(6252),s=n(3577),r=n(4427);const t={class:"mypage-sidebar"},l=(0,o._)("div",{class:"logo-wrap"},[(0,o._)("a",{href:"/"},[(0,o._)("img",{src:r})])],-1),i=(0,o._)("li",null,"회원 탈퇴",-1);function d(e,a,n,r,d,c){const m=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",t,[l,(0,o._)("ul",null,[(0,o._)("li",{class:(0,s.C_)({active:"/mypage/info"===e.$route.path})},[(0,o.Wm)(m,{to:"/mypage/info"},{default:(0,o.w5)((()=>[(0,o.Uk)("개인정보 변경")])),_:1})],2),(0,o._)("li",{class:(0,s.C_)({active:"/mypage/comment"===e.$route.path})},[(0,o.Wm)(m,{to:"/mypage/comment"},{default:(0,o.w5)((()=>[(0,o.Uk)("내가 쓴 글 / 댓글 단 글")])),_:1})],2),(0,o._)("li",{class:(0,s.C_)({active:"/mypage/like"===e.$route.path})},[(0,o.Wm)(m,{to:"/mypage/like"},{default:(0,o.w5)((()=>[(0,o.Uk)("내 공감")])),_:1})],2),(0,o._)("li",{class:(0,s.C_)({active:"/mypage/scrap"===e.$route.path})},[(0,o.Wm)(m,{to:"/mypage/scrap"},{default:(0,o.w5)((()=>[(0,o.Uk)("내 스크랩")])),_:1})],2),(0,o._)("li",{class:(0,s.C_)({active:"/mypage/report"===e.$route.path})},[(0,o.Wm)(m,{to:"/mypage/report"},{default:(0,o.w5)((()=>[(0,o.Uk)("내 신고")])),_:1})],2),i])])}var c={name:"MypageSidebar"},m=n(3744);const p=(0,m.Z)(c,[["render",d]]);var u=p},2769:function(e,a,n){n.r(a),n.d(a,{default:function(){return K}});var o=n(6252),s=n(9963);const r={class:"info-mypage"},t={class:"admin-content-wrap"},l={class:"admin-content"},i={class:"admin-content-inner"},d=(0,o._)("strong",{class:"page-title"},"개인정보 변경",-1),c={class:"info-box-wrap"},m={class:"info-box-content-wrap"},p=(0,o._)("div",{class:"sub-title"},"개인정보를 변경해주세요.",-1),u={class:"info-box"},h={class:"info-box-inner"},_=(0,o._)("label",null,"아이디",-1),b={class:"form-control"},w=["placeholder"],g={class:"info-box-inner"},f=(0,o._)("label",null,"기존 비밀번호",-1),v={class:"form-control"},y={class:"info-box-inner"},k=(0,o._)("label",null,"새로운 비밀번호",-1),C={class:"form-control"},x={class:"info-box-inner"},P=(0,o._)("label",null,"비밀번호 확인",-1),M={class:"form-control"},U={class:"info-box-inner"},Z=(0,o._)("label",null,"이름",-1),V={class:"form-control"},W=["placeholder"],$={class:"info-box-inner"},H=(0,o._)("label",null,"이메일",-1),S={class:"form-control"},D=["placeholder"],A={class:"info-box-inner"},I=(0,o._)("label",null,"연락처",-1),j={class:"form-control"},z=["placeholder"];function B(e,a,n,B,T,q){const E=(0,o.up)("MypageSidebar"),F=(0,o.up)("MypageHeader");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(E),(0,o._)("div",t,[(0,o.Wm)(F),(0,o._)("div",l,[(0,o._)("div",i,[d,(0,o._)("div",c,[(0,o._)("div",m,[p,(0,o._)("div",u,[(0,o._)("div",h,[_,(0,o._)("div",b,[(0,o.wy)((0,o._)("input",{type:"text",placeholder:T.member.nickname,"onUpdate:modelValue":a[0]||(a[0]=e=>T.member.nickname=e),disabled:""},null,8,w),[[s.nr,T.member.nickname]])])]),(0,o._)("div",g,[f,(0,o._)("div",v,[(0,o.wy)((0,o._)("input",{type:"password",placeholder:"비밀번호","onUpdate:modelValue":a[1]||(a[1]=e=>T.orgPassword=e)},null,512),[[s.nr,T.orgPassword]])])]),(0,o._)("div",y,[k,(0,o._)("div",C,[(0,o.wy)((0,o._)("input",{type:"password",placeholder:"새로운 비밀번호","onUpdate:modelValue":a[2]||(a[2]=e=>T.newPassword=e)},null,512),[[s.nr,T.newPassword]])])]),(0,o._)("div",x,[P,(0,o._)("div",M,[(0,o.wy)((0,o._)("input",{type:"password",placeholder:"비밀번호 확인","onUpdate:modelValue":a[3]||(a[3]=e=>T.passwordCheck=e)},null,512),[[s.nr,T.passwordCheck]])])]),(0,o._)("div",U,[Z,(0,o._)("div",V,[(0,o.wy)((0,o._)("input",{type:"text",placeholder:T.member.username,"onUpdate:modelValue":a[4]||(a[4]=e=>T.member.username=e)},null,8,W),[[s.nr,T.member.username]])])]),(0,o._)("div",$,[H,(0,o._)("div",S,[(0,o.wy)((0,o._)("input",{type:"text",placeholder:T.member.email,"onUpdate:modelValue":a[5]||(a[5]=e=>T.member.email=e)},null,8,D),[[s.nr,T.member.email]])])]),(0,o._)("div",A,[I,(0,o._)("div",j,[(0,o.wy)((0,o._)("input",{type:"number",placeholder:T.member.phone,"onUpdate:modelValue":a[6]||(a[6]=e=>T.member.phone=e)},null,8,z),[[s.nr,T.member.phone]])])])]),(0,o._)("button",{type:"submit",onClick:a[7]||(a[7]=e=>q.updateMember())},"변경하기")])])])])])])}var T=n(6154),q=n(1792),E=n(8126),F={name:"InfoMypage",components:{MypageSidebar:q.Z,MypageHeader:E.Z},data(){return{headers:[],link:"",member:{},orgPassword:"",newPassword:"",passwordCheck:"",nickname:"",username:"",email:"",phone:""}},created(){this.setupHeaders(),this.getMember()},methods:{setupHeaders(){const e=localStorage.getItem("token");this.link="http://"+window.location.host,this.headers={Authorization:`Bearer ${e}`,"Content-Type":"application/json"}},getMember(){T.Z.get(this.link+"/api/myPage/getMember",{headers:this.headers}).then((e=>{console.log(e.data),this.member=e.data})).catch((e=>{console.log(e)}))},updateMember(){const e={orgPassword:this.orgPassword,nickname:this.member.nickname,username:this.member.username,email:this.member.email,phone:this.member.phone};this.newPassword&&(e.newPassword=this.newPassword),this.passwordCheck&&(e.passwordCheck=this.passwordCheck),console.log(e),T.Z.post(this.link+"/api/myPage/updateMember",e,{headers:this.headers}).then((e=>{console.log(e.data);const a=e.data.status,n=e.data.message;"success"==a?alert("개인정보가 성공적으로 변경되었습니다."):"error"==a&&alert(n),this.$router.go()})).catch((e=>{console.log(e)}))}}},G=n(3744);const J=(0,G.Z)(F,[["render",B]]);var K=J}}]);
//# sourceMappingURL=769.64b15f4b.js.map