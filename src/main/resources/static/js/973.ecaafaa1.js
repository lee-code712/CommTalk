"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[973],{5973:function(e,a,t){t.r(a),t.d(a,{default:function(){return M}});var s=t(6252),i=t(3577),o=t(9963),r=t(6652),d=t(4192),l=t(4268),c=t(7821);const n=e=>((0,s.dD)("data-v-664cbc6d"),e=e(),(0,s.Cn)(),e),p={class:"list-view"},h={class:"full-container"},g={class:"sub-top-wrap"},m={class:"board-name"},u={class:"search-wrap"},b={class:"list-wrap"},w=["href"],k={class:"list-title-wrap"},v={class:"title"},_=["src","onClick"],f={class:"list-content"},N={class:"list-detail-info"},y={class:"comment-like-wrap"},P={class:"comment-box"},z=n((()=>(0,s._)("img",{src:d,style:{width:"12px",height:"12px"}},null,-1))),C={class:"like-box"},I=n((()=>(0,s._)("img",{src:l,style:{width:"14px",height:"14px"}},null,-1))),x={class:"view-box"},D=n((()=>(0,s._)("img",{src:c,style:{width:"14px",height:"14px"}},null,-1))),H={class:"writer-date-wrap"},$={class:"writer"},Z={class:"date"},B={class:"paging-wrap"},S={class:"paging-inner"},L=["disabled"],U={class:"paging-num-wrap"},W=["onClick"],q=["disabled"],A={class:"btn-wrap"},F=n((()=>(0,s._)("button",{class:"write-btn"},"글쓰기",-1)));function K(e,a,d,l,c,n){const K=(0,s.up)("HeaderLayout"),V=(0,s.up)("SubHeader"),Y=(0,s.up)("router-link"),j=(0,s.up)("FooterLayout");return(0,s.wg)(),(0,s.iD)("div",p,[(0,s.Wm)(K),(0,s.Wm)(V),(0,s._)("div",h,[(0,s._)("div",g,[(0,s._)("strong",m,(0,i.zw)(c.boardName),1),(0,s._)("div",u,[(0,s.wy)((0,s._)("input",{type:"search","onUpdate:modelValue":a[0]||(a[0]=e=>c.keyword=e),placeholder:"내용을 입력해주세요."},null,512),[[o.nr,c.keyword]]),(0,s._)("img",{src:r,onClick:a[1]||(a[1]=(...e)=>n.fetchPosts&&n.fetchPosts(...e))})])]),(0,s._)("div",b,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c.boards,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"list",key:e.postId},[(0,s._)("a",{href:"/detail?postId="+e.postId},[(0,s._)("div",k,[(0,s._)("div",v,(0,i.zw)(e.title),1),(0,s._)("img",{src:t(260)(`./${e.imgName}.png`),onClick:a=>n.changeImg(e)},null,8,_)]),(0,s._)("div",f,(0,i.zw)(e.content),1),(0,s._)("div",N,[(0,s._)("div",y,[(0,s._)("div",P,[z,(0,s.Uk)(" 댓글 "+(0,i.zw)(e.commentCnt),1)]),(0,s._)("div",C,[I,(0,s.Uk)(" 공감 "+(0,i.zw)(e.likes),1)]),(0,s._)("div",x,[D,(0,s.Uk)(" 조회수 "+(0,i.zw)(e.views),1)])]),(0,s._)("div",H,[(0,s._)("div",$,(0,i.zw)(e.author.nickname),1),(0,s._)("div",Z,(0,i.zw)(e.createdAt),1)])])],8,w)])))),128))])]),(0,s._)("div",B,[(0,s._)("div",S,[(0,s._)("div",{class:"prev-btn",onClick:a[2]||(a[2]=e=>n.loadPage("previous")),disabled:1===c.pageNumber},"이전",8,L),(0,s._)("div",U,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c.totalPages,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:(0,i.C_)({on:e===c.pageNumber}),onClick:a=>n.gotoPage(e)},(0,i.zw)(e),11,W)))),128))]),(0,s._)("div",{class:"next-btn",onClick:a[3]||(a[3]=e=>n.loadPage("next")),disabled:c.pageNumber===c.totalPages},"다음",8,q)])]),(0,s._)("div",A,[(0,s.Wm)(Y,{to:"/edit?boardId="+c.boardId,class:"router-link-class"},{default:(0,s.w5)((()=>[F])),_:1},8,["to"])])]),(0,s.Wm)(j)])}var V=t(6154),Y=t(5116),j=t(3610),T=t(4014),E={name:"ListView",components:{HeaderLayout:Y.Z,SubHeader:j.Z,FooterLayout:T.Z},data(){return{boards:[],boardName:"",boardId:this.$route.query.boardId,pageNumber:1,pageSize:10,totalPages:"",keyword:""}},created(){this.setupHeaders(),this.fetchData(),this.getBoardName()},methods:{setupHeaders(){const e=localStorage.getItem("token");this.link="http://"+window.location.host,this.headers={Authorization:`Bearer ${e}`,"Content-Type":"application/json"}},changeImg(e){event.preventDefault(),!1===e.scraped?(e.imgName="fi-sr-bookmark",e.scraped=!0):(e.imgName="fi-rr-bookmark",e.scraped=!1)},loadPage(e){"previous"===e&&this.pageNumber>1?this.pageNumber--:"next"===e&&this.pageNumber<this.totalPages&&this.pageNumber++,this.fetchData()},gotoPage(e){e>=1&&e<=this.totalPages&&(this.pageNumber=e,this.fetchData())},fetchData(){const e=this.$route.query.boardId,a={page:this.pageNumber,size:this.pageSize};V.Z.get(`/api/post/getPostsByBoard/${e}`,a,{headers:this.headers}).then((e=>{this.boards=e.data.posts.map((e=>(!1===e.scraped?e.imgName="fi-rr-bookmark":e.imgName="fi-sr-bookmark",e))),this.totalPages=e.data.totalPages})).catch((e=>{console.error(e)}))},getBoardName(){const e=this.$route.query.boardId;V.Z.get(`/api/post/getBoard/${e}`,{headers:this.headers}).then((e=>{this.boardName=e.data.boardName})).catch((e=>{console.error(e)}))},fetchPosts(){if(!this.keyword)return;const e={page:this.pageNumber,size:this.pageSize};V.Z.get(`/api/common/getPosts/${this.keyword}`,e,{headers:this.headers}).then((e=>{this.boards=e.data.posts.map((e=>(!1===e.scraped?e.imgName="fi-rr-bookmark":e.imgName="fi-sr-bookmark",e))),this.totalPages=e.data.totalPages})).catch((e=>{console.error(e)}))}}},G=t(3744);const J=(0,G.Z)(E,[["render",K],["__scopeId","data-v-664cbc6d"]]);var M=J}}]);
//# sourceMappingURL=973.ecaafaa1.js.map