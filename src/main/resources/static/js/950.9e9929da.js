"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[950],{6950:function(a,s,t){t.r(s),t.d(s,{default:function(){return E}});var e=t(6252),o=t(3577),i=t(9963),r=t(6652),d=t(4192),l=t(4268),c=t(7821);const n=a=>((0,e.dD)("data-v-574432f8"),a=a(),(0,e.Cn)(),a),h={class:"list-view"},p={class:"full-container"},m={class:"sub-top-wrap"},g={class:"board-name"},u={class:"search-wrap"},v={class:"list-wrap"},b={class:"list-title-wrap"},w={class:"title"},k=["src","onClick"],f={class:"list-content"},_={class:"list-detail-info"},y={class:"comment-like-wrap"},N={class:"comment-box"},z=n((()=>(0,e._)("img",{src:d,style:{width:"12px",height:"12px"}},null,-1))),x={class:"like-box"},I=n((()=>(0,e._)("img",{src:l,style:{width:"14px",height:"14px"}},null,-1))),C={class:"view-box"},$=n((()=>(0,e._)("img",{src:c,style:{width:"14px",height:"14px"}},null,-1))),H={class:"writer-date-wrap"},Z={class:"writer"},B={class:"date"},D=(0,e.uE)('<div class="paging-wrap" data-v-574432f8><div class="paging-inner" data-v-574432f8><div class="prev-btn" data-v-574432f8>이전</div><div class="paging-num-wrap" data-v-574432f8><div class="on" data-v-574432f8>1</div><div data-v-574432f8>2</div><div data-v-574432f8>3</div></div><div class="next-btn" data-v-574432f8>다음</div></div></div>',1),L={class:"btn-wrap"},P=n((()=>(0,e._)("button",{class:"write-btn"},"글쓰기",-1)));function U(a,s,d,l,c,n){const U=(0,e.up)("HeaderLayout"),W=(0,e.up)("SubHeader"),q=(0,e.up)("router-link"),S=(0,e.up)("FooterLayout");return(0,e.wg)(),(0,e.iD)("div",h,[(0,e.Wm)(U),(0,e.Wm)(W),(0,e._)("div",p,[(0,e._)("div",m,[(0,e._)("div",g,(0,o.zw)(c.boardName),1),(0,e._)("div",u,[(0,e.wy)((0,e._)("input",{type:"search","onUpdate:modelValue":s[0]||(s[0]=s=>a.keyword=s),placeholder:"내용을 입력해주세요."},null,512),[[i.nr,a.keyword]]),(0,e._)("img",{src:r,onClick:s[1]||(s[1]=(...a)=>n.fetchPosts&&n.fetchPosts(...a))})])]),(0,e._)("div",v,[(0,e._)("ul",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(c.boards,((a,s)=>((0,e.wg)(),(0,e.iD)("li",{class:"list",key:s},[(0,e._)("div",b,[(0,e._)("strong",w,(0,o.zw)(a.title),1),(0,e._)("img",{src:t(260)(`./${a.imgName}.png`),onClick:a=>n.changeImg(s)},null,8,k)]),(0,e._)("div",f,(0,o.zw)(a.content),1),(0,e._)("div",_,[(0,e._)("div",y,[(0,e._)("div",N,[z,(0,e.Uk)(" 댓글 "+(0,o.zw)(a.commentCnt),1)]),(0,e._)("div",x,[I,(0,e.Uk)(" 공감 "+(0,o.zw)(a.likes),1)]),(0,e._)("div",C,[$,(0,e.Uk)(" 조회수 "+(0,o.zw)(a.views),1)])]),(0,e._)("div",H,[(0,e._)("div",Z,(0,o.zw)(a.author.nickname),1),(0,e._)("div",B,(0,o.zw)(a.createdAt),1)])])])))),128))])]),D,(0,e._)("div",L,[(0,e.Wm)(q,{to:"/edit?boardId="+c.boardId,class:"router-link-class"},{default:(0,e.w5)((()=>[P])),_:1},8,["to"])])]),(0,e.Wm)(S)])}var W=t(6154),q=t(5116),S=t(2049),A=t(4014),F={name:"ListView",components:{HeaderLayout:q.Z,SubHeader:S.Z,FooterLayout:A.Z},data(){return{boards:[],boardName:"",boardId:this.$route.query.boardId}},created(){this.setupHeaders(),this.fetchData()},methods:{setupHeaders(){const a=localStorage.getItem("token");this.link="http://"+window.location.host,this.headers={Authorization:`Bearer ${a}`,"Content-Type":"application/json"}},changeImg(a){!1===this.boards[a].scraped?(this.boards[a].imgName="fi-sr-bookmark",this.boards[a].scraped=!0,console.log("@@@@@1"),console.log(this.boards[a].scraped),console.log(this.boards[a].imgName)):(this.boards[a].imgName="fi-rr-bookmark",this.boards[a].scraped=!1)},fetchData(){const a=this.$route.query.boardId,s={page:0,size:5};W.Z.get(`/api/post/getPostsByBoard/${a}`,s,{headers:this.headers}).then((a=>{this.getBoardName(),this.boards=a.data.posts.map((a=>(console.log("#####"),console.log(a.scraped),!1===a.scraped?a.imgName="fi-rr-bookmark":a.imgName="fi-sr-bookmark",a)))})).catch((a=>{console.log(a)}))},getBoardName(){const a=this.$route.query.boardId;W.Z.get(`/api/post/getBoard/${a}`,{headers:this.headers}).then((a=>{console.log("!@@@"),console.log(a.data),this.boardName=a.data.boardName})).catch((a=>{console.log(a)}))},fetchPosts(){if(!this.keyword)return;const a={page:0,size:5};W.Z.get(`/api/common/getPosts/${this.keyword}`,a,{headers:this.headers}).then((a=>{console.log("????"),this.boards=a.data.posts.map((a=>(!1===a.scraped?a.imgName="fi-rr-bookmark":a.imgName="fi-sr-bookmark",a)))})).catch((a=>{console.log(a)}))}}},V=t(3744);const j=(0,V.Z)(F,[["render",U],["__scopeId","data-v-574432f8"]]);var E=j}}]);
//# sourceMappingURL=950.9e9929da.js.map