"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[352],{4352:function(e,t,a){a.r(t),a.d(t,{default:function(){return P}});var s=a(6252),i=a(3577),n=a(9963),o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMgSURBVHgB7dxNbtNQEAfwcSqksssR2huUG9ANX7tsUKErixUryAmAE9CuWHqFQGy6RMomvQE5Qm7QLiPAfnieU6BVPvxsj99M+/9JlaImkp/nH8f289hEAAAAAAAAAAAAAAAAAAAAANBC9uX7XpadDUk5P87yj3qSkLDs2+QNFfSeyFXFdzQjKkbpi6dzUiT7PDmgHfpYDvDh8l/zgtzpq6MnJyRINICq+G7VClzSIDlMnz+akQLL4k//fkn+U4YwlgxhQJIK93bNO8PyvWkZ0AFFtqn4bEDJOxIkFsDyd3Rvw0eih7Ct+EvDT4L7BNktYLtoIdQsvre7WFySELEAqp2sO6/x0d5DCCk+JcksTUf2AvDywbhcgzqD7y2EoOLz2It8RIJEA0iPy6OcnA61hBBc/HLs0ofL4ucBLGzFZQ5RGxX/WP4wuZcAWMwQtBbfL416FCMEzcX3S6Se9RmC9uL7pVIEfYRgofh+yRSJZAhWiu+XThFJhGCp+H4EFFmXIVgrvh8FKdBFCBaL70dCSrQJwWrxmZoAWJMQ6Ff5ymjxmaoAWHAIfhVsFp+pC4AFhlCDzuIzlQGw7kLQW3ymNgDWPgTdxWeqA2DNQ9BffKY+ABYego3is9gX5YU4ontkwi3+CdLV/LXOLd8J6w/hDhyG6g7hjpyI6Q3B+FTEVbtLvG6LtgxPxlWHmv5l5JaXNoxOR18/ztfQd9SUwQsyq0+yrIZg7JLk5jNciyEYuihfb3rBWghG2lLC5nYshWCgMavZxJqVEJS3Jrab1bQQguLm3G6mlLWHoLQ9vdv5fM0hKLxBQ+ZiitYQ5O+UV9Q0pTEE2Tvl+f7aZOeHpr4dbSEIX5IcnGlrmgq/cZCfHyFHbAvIsumQ7v+82P7JOBfQQ7aEhSv2XwvdLSm3BewuVH3zbwrcEsTI7gO+Ti7Wf8N0tI7U2BLm6dHjfRIi/LSU3x9Wv6Gnb2f7luBOSZDsnfIvn51QkY/Ll/N//3Xn2pqm/Fhc/qB6mNQVDsSNU+EHNvWm70eBNcWPVbMwTgAAAAAAAAAAAAAAAAAAAADd/gDwYpRLHpuW+AAAAABJRU5ErkJggg==",A="data:image/png;base64,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";const l={class:"edit-view"},h={class:"full-container"},r={class:"board-name"},d={class:"title-content-wrap"},c={class:"title"},g={class:"content"},m={class:"image-preview"},u=["src"],p={class:"img-name"},w=["onClick"],v={class:"hashtag-wrap"},I={class:"hashtag-inner"},b={class:"hashtags"},C=["onClick"],L=(0,s._)("img",{src:o,style:{width:"12px",height:"12px"}},null,-1),Q=[L],B={class:"detail-btn-wrap"},f={class:"anonymous-file-wrap"},k={class:"checkbox-container"},H=(0,s._)("label",{for:"checkbox01"},[(0,s._)("span",{class:"checkbox-icon"}),(0,s.Uk)(" 익명 ")],-1),y={class:"checkbox-container"},F=(0,s._)("label",{for:"checkbox02"},[(0,s._)("span",{class:"checkbox-icon"}),(0,s.Uk)(" 댓글 허용 ")],-1),E=(0,s._)("label",{for:"file"},[(0,s._)("div",{class:"btn-upload"},[(0,s._)("img",{src:A,style:{width:"14px",height:"14px"}}),(0,s.Uk)("파일 업로드하기")])],-1),R={class:"btn-wrap"},U=(0,s._)("button",{type:"button",class:"cancel-btn"},"취소",-1);function D(e,t,a,o,A,L){const D=(0,s.up)("HeaderLayout"),W=(0,s.up)("SubHeader"),S=(0,s.up)("router-link"),x=(0,s.up)("FooterLayout");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s.Wm)(D),(0,s.Wm)(W),(0,s._)("div",h,[(0,s._)("strong",r,(0,i.zw)(A.boardName),1),(0,s._)("div",d,[(0,s._)("div",c,[(0,s.wy)((0,s._)("input",{type:"text",placeholder:"제목","onUpdate:modelValue":t[0]||(t[0]=t=>e.title=t)},null,512),[[n.nr,e.title]])]),(0,s._)("div",g,[(0,s.wy)((0,s._)("textarea",{placeholder:"내용","onUpdate:modelValue":t[1]||(t[1]=t=>e.content=t)},null,512),[[n.nr,e.content]]),(0,s._)("div",m,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(A.imagePreviews,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"image-preview-inner",key:t},[(0,s._)("img",{src:e.previewURL,alt:"Preview"},null,8,u),(0,s._)("div",p,(0,i.zw)(e.name),1),(0,s._)("button",{onClick:e=>L.removeImage(t)},"삭제",8,w)])))),128))])]),(0,s._)("div",v,[(0,s._)("div",I,[(0,s._)("div",b,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(A.hashtags,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"hashtag",key:t},[(0,s.Uk)(" # "+(0,i.zw)(e)+" ",1),(0,s._)("button",{class:"remove-hashtag-btn",onClick:e=>L.removeHashtag(t)},Q,8,C)])))),128)),(0,s.Uk)(" # "),(0,s.wy)((0,s._)("input",{type:"text",placeholder:"태그 입력 (최대 20개)","onUpdate:modelValue":t[2]||(t[2]=e=>A.newHashtag=e),onKeyup:t[3]||(t[3]=(0,n.D2)(((...e)=>L.addHashtag&&L.addHashtag(...e)),["enter"]))},null,544),[[n.nr,A.newHashtag]])])])]),(0,s._)("div",B,[(0,s._)("div",f,[(0,s._)("div",k,[(0,s.wy)((0,s._)("input",{type:"checkbox",id:"checkbox01","onUpdate:modelValue":t[4]||(t[4]=e=>A.isAnonymous=e)},null,512),[[n.e8,A.isAnonymous]]),H]),(0,s._)("div",y,[(0,s.wy)((0,s._)("input",{type:"checkbox",id:"checkbox02","onUpdate:modelValue":t[5]||(t[5]=e=>A.isCommentable=e)},null,512),[[n.e8,A.isCommentable]]),F]),E,(0,s._)("input",{type:"file",id:"file",ref:"fileInput",multiple:"",onChange:t[6]||(t[6]=(...e)=>L.handleFileChange&&L.handleFileChange(...e))},null,544)]),(0,s._)("div",R,[(0,s.Wm)(S,{to:"/list?boardId="+A.boardId,class:"router-link-class"},{default:(0,s.w5)((()=>[U])),_:1},8,["to"]),(0,s._)("button",{type:"submit",class:"register-btn",onClick:t[7]||(t[7]=(...e)=>L.submitPost&&L.submitPost(...e))},"등록")])])])]),(0,s.Wm)(x)])}a(7658),a(6229),a(7330),a(2062);var W=a(6154),S=a(3261),x=a(3064),G=a(1014),V={name:"EditView",data(){return{headers:[],link:"",imagePreviews:[],newHashtag:"",hashtags:[],boardName:"",isAnonymous:!0,isCommentable:!0,boardId:this.$route.query.boardId}},created(){this.setupHeaders(),this.getBoardName()},components:{HeaderLayout:S.Z,SubHeader:x.Z,FooterLayout:G.Z},methods:{setupHeaders(){const e=localStorage.getItem("token");this.link="http://"+window.location.host,this.headers={Authorization:`Bearer ${e}`,"Content-Type":"application/json"}},getBoardName(){const e=this.$route.query.boardId;W.Z.get(`/api/post/getBoard/${e}`,{headers:this.headers}).then((e=>{this.boardName=e.data.boardName})).catch((e=>{console.error(e)}))},addHashtag(){""!==this.newHashtag.trim()&&(this.hashtags.push(this.newHashtag),this.newHashtag="")},removeHashtag(e){this.hashtags.splice(e,1)},handleFileChange(e){const t=e.target.files;for(let a=0;a<t.length;a++){const e=t[a],s=new FileReader;s.onload=()=>{this.imagePreviews.push({previewURL:s.result,name:e.name,file:e})},s.readAsDataURL(e)}},removeImage(e){const t=this.imagePreviews.splice(e,1)[0];t&&t.file&&URL.revokeObjectURL(t.previewURL)},submitPost(){const e=this.$route.query.boardId,t={boardId:e,title:this.title,content:this.content,isAnonymous:this.isAnonymous?1:0,isCommentable:this.isCommentable?1:0,hashtags:this.hashtags};W.Z.post("/api/post/createPost",t,{headers:this.headers}).then((t=>{console.log(t.data),this.uploadImageUrl(t.data.postId),this.$router.push(`/list?boardId=${e}`)})).catch((e=>{console.error(e)}))},uploadImageUrl(e){const t=new FormData;for(const a of this.imagePreviews)t.append("images",a.file);if(t.has("images")){const a={headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`}};W.Z.post(`/api/file/upload/${e}`,t,a).then((e=>{console.log("파일 업로드 성공:",e.data)})).catch((e=>{console.error("파일 업로드 실패:",e)}))}else console.log("이미지가 없어서 파일 업로드 요청을 보내지 않습니다.")}}},J=a(3744);const q=(0,J.Z)(V,[["render",D]]);var P=q}}]);
//# sourceMappingURL=352.d91c385b.js.map