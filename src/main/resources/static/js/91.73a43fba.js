"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[91],{9091:function(e,a,t){t.r(a),t.d(a,{default:function(){return J}});var s=t(6252),i=t(3577),o=t(9963),r=t(6652),d=t(4192),l=t(4268),n=t(7821);const c=e=>((0,s.dD)("data-v-62d9be42"),e=e(),(0,s.Cn)(),e),g={class:"list-view"},h={class:"full-container"},p={class:"sub-top-wrap"},m={class:"board-name"},u={class:"search-wrap"},b={class:"list-wrap"},w={class:"list-title-wrap"},k={class:"title"},v=["src","onClick"],_={class:"list-content"},f={class:"list-detail-info"},N={class:"comment-like-wrap"},y={class:"comment-box"},P=c((()=>(0,s._)("img",{src:d,style:{width:"12px",height:"12px"}},null,-1))),z={class:"like-box"},C=c((()=>(0,s._)("img",{src:l,style:{width:"14px",height:"14px"}},null,-1))),x={class:"view-box"},I=c((()=>(0,s._)("img",{src:n,style:{width:"14px",height:"14px"}},null,-1))),D={class:"writer-date-wrap"},H={class:"writer"},$={class:"date"},Z={class:"paging-wrap"},B={class:"paging-inner"},S=["disabled"],L={class:"paging-num-wrap"},U=["onClick"],W=["disabled"],q={class:"btn-wrap"},A=c((()=>(0,s._)("button",{class:"write-btn"},"글쓰기",-1)));function F(e,a,d,l,n,c){const F=(0,s.up)("HeaderLayout"),K=(0,s.up)("SubHeader"),V=(0,s.up)("router-link"),Y=(0,s.up)("FooterLayout");return(0,s.wg)(),(0,s.iD)("div",g,[(0,s.Wm)(F),(0,s.Wm)(K),(0,s._)("div",h,[(0,s._)("div",p,[(0,s._)("strong",m,(0,i.zw)(n.boardName),1),(0,s._)("div",u,[(0,s.wy)((0,s._)("input",{type:"search","onUpdate:modelValue":a[0]||(a[0]=e=>n.keyword=e),placeholder:"내용을 입력해주세요."},null,512),[[o.nr,n.keyword]]),(0,s._)("img",{src:r,onClick:a[1]||(a[1]=(...e)=>c.fetchPosts&&c.fetchPosts(...e))})])]),(0,s._)("div",b,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.boards,(e=>((0,s.wg)(),(0,s.iD)("li",{class:"list",key:e.postId},[(0,s._)("div",w,[(0,s._)("div",k,(0,i.zw)(e.title),1),(0,s._)("img",{src:t(260)(`./${e.imgName}.png`),onClick:a=>c.changeImg(e)},null,8,v)]),(0,s._)("div",_,(0,i.zw)(e.content),1),(0,s._)("div",f,[(0,s._)("div",N,[(0,s._)("div",y,[P,(0,s.Uk)(" 댓글 "+(0,i.zw)(e.commentCnt),1)]),(0,s._)("div",z,[C,(0,s.Uk)(" 공감 "+(0,i.zw)(e.likes),1)]),(0,s._)("div",x,[I,(0,s.Uk)(" 조회수 "+(0,i.zw)(e.views),1)])]),(0,s._)("div",D,[(0,s._)("div",H,(0,i.zw)(e.author.nickname),1),(0,s._)("div",$,(0,i.zw)(e.createdAt),1)])])])))),128))])]),(0,s._)("div",Z,[(0,s._)("div",B,[(0,s._)("div",{class:"prev-btn",onClick:a[2]||(a[2]=e=>c.loadPage("previous")),disabled:1===n.pageNumber},"이전",8,S),(0,s._)("div",L,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.totalPages,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:(0,i.C_)({on:e===n.pageNumber}),onClick:a=>c.gotoPage(e)},(0,i.zw)(e),11,U)))),128))]),(0,s._)("div",{class:"next-btn",onClick:a[3]||(a[3]=e=>c.loadPage("next")),disabled:n.pageNumber===n.totalPages},"다음",8,W)])]),(0,s._)("div",q,[(0,s.Wm)(V,{to:"/edit?boardId="+n.boardId,class:"router-link-class"},{default:(0,s.w5)((()=>[A])),_:1},8,["to"])])]),(0,s.Wm)(Y)])}var K=t(6154),V=t(5116),Y=t(3610),j=t(4014),T={name:"ListView",components:{HeaderLayout:V.Z,SubHeader:Y.Z,FooterLayout:j.Z},data(){return{boards:[],boardName:"",boardId:this.$route.query.boardId,pageNumber:1,pageSize:10,totalPages:"",keyword:""}},created(){this.setupHeaders(),this.fetchData(),this.getBoardName()},methods:{setupHeaders(){const e=localStorage.getItem("token");this.link="http://"+window.location.host,this.headers={Authorization:`Bearer ${e}`,"Content-Type":"application/json"}},changeImg(e){!1===e.scraped?(e.imgName="fi-sr-bookmark",e.scraped=!0):(e.imgName="fi-rr-bookmark",e.scraped=!1)},loadPage(e){"previous"===e&&this.pageNumber>1?this.pageNumber--:"next"===e&&this.pageNumber<this.totalPages&&this.pageNumber++,this.fetchData()},gotoPage(e){e>=1&&e<=this.totalPages&&(this.pageNumber=e,this.fetchData())},fetchData(){const e=this.$route.query.boardId,a={page:this.pageNumber,size:this.pageSize};K.Z.get(`/api/post/getPostsByBoard/${e}`,a,{headers:this.headers}).then((e=>{this.boards=e.data.posts.map((e=>(!1===e.scraped?e.imgName="fi-rr-bookmark":e.imgName="fi-sr-bookmark",e))),this.totalPages=e.data.totalPages})).catch((e=>{console.error(e)}))},getBoardName(){const e=this.$route.query.boardId;K.Z.get(`/api/post/getBoard/${e}`,{headers:this.headers}).then((e=>{this.boardName=e.data.boardName})).catch((e=>{console.error(e)}))},fetchPosts(){if(!this.keyword)return;const e={page:this.pageNumber,size:this.pageSize};K.Z.get(`/api/common/getPosts/${this.keyword}`,e,{headers:this.headers}).then((e=>{this.boards=e.data.posts.map((e=>(!1===e.scraped?e.imgName="fi-rr-bookmark":e.imgName="fi-sr-bookmark",e))),this.totalPages=e.data.totalPages})).catch((e=>{console.error(e)}))}}},E=t(3744);const G=(0,E.Z)(T,[["render",F],["__scopeId","data-v-62d9be42"]]);var J=G}}]);
//# sourceMappingURL=91.73a43fba.js.map