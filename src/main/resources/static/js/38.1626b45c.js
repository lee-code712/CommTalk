"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[38],{5038:function(e,t,a){a.r(t),a.d(t,{default:function(){return _}});var s=a(6252),n=a(3577),i=a(9963),o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAACXBIWXMAACxLAAAsSwGlPZapAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMgSURBVHgB7dxNbtNQEAfwcSqksssR2huUG9ANX7tsUKErixUryAmAE9CuWHqFQGy6RMomvQE5Qm7QLiPAfnieU6BVPvxsj99M+/9JlaImkp/nH8f289hEAAAAAAAAAAAAAAAAAAAAANBC9uX7XpadDUk5P87yj3qSkLDs2+QNFfSeyFXFdzQjKkbpi6dzUiT7PDmgHfpYDvDh8l/zgtzpq6MnJyRINICq+G7VClzSIDlMnz+akQLL4k//fkn+U4YwlgxhQJIK93bNO8PyvWkZ0AFFtqn4bEDJOxIkFsDyd3Rvw0eih7Ct+EvDT4L7BNktYLtoIdQsvre7WFySELEAqp2sO6/x0d5DCCk+JcksTUf2AvDywbhcgzqD7y2EoOLz2It8RIJEA0iPy6OcnA61hBBc/HLs0ofL4ucBLGzFZQ5RGxX/WP4wuZcAWMwQtBbfL416FCMEzcX3S6Se9RmC9uL7pVIEfYRgofh+yRSJZAhWiu+XThFJhGCp+H4EFFmXIVgrvh8FKdBFCBaL70dCSrQJwWrxmZoAWJMQ6Ff5ymjxmaoAWHAIfhVsFp+pC4AFhlCDzuIzlQGw7kLQW3ymNgDWPgTdxWeqA2DNQ9BffKY+ABYego3is9gX5YU4ontkwi3+CdLV/LXOLd8J6w/hDhyG6g7hjpyI6Q3B+FTEVbtLvG6LtgxPxlWHmv5l5JaXNoxOR18/ztfQd9SUwQsyq0+yrIZg7JLk5jNciyEYuihfb3rBWghG2lLC5nYshWCgMavZxJqVEJS3Jrab1bQQguLm3G6mlLWHoLQ9vdv5fM0hKLxBQ+ZiitYQ5O+UV9Q0pTEE2Tvl+f7aZOeHpr4dbSEIX5IcnGlrmgq/cZCfHyFHbAvIsumQ7v+82P7JOBfQQ7aEhSv2XwvdLSm3BewuVH3zbwrcEsTI7gO+Ti7Wf8N0tI7U2BLm6dHjfRIi/LSU3x9Wv6Gnb2f7luBOSZDsnfIvn51QkY/Ll/N//3Xn2pqm/Fhc/qB6mNQVDsSNU+EHNvWm70eBNcWPVbMwTgAAAAAAAAAAAAAAAAAAAADd/gDwYpRLHpuW+AAAAABJRU5ErkJggg==";const l={class:"edit-view"},r={class:"full-container"},h={class:"board-name"},A={class:"title-content-wrap"},c={class:"title"},d={class:"content"},g={class:"image-preview"},m=["src"],u={class:"img-name"},p=["onClick"],w={class:"hashtag-wrap"},v={class:"hashtag-inner"},b={class:"hashtags"},f=["onClick"],y=(0,s._)("img",{src:o,style:{width:"12px",height:"12px"}},null,-1),L=[y],k={class:"detail-btn-wrap"},C={class:"anonymous-file-wrap"},H=(0,s._)("div",{class:"custom-checkbox"},[(0,s._)("input",{type:"checkbox",id:"customCheckbox"}),(0,s._)("label",{for:"customCheckbox"},"익명")],-1),Q={class:"btn-wrap"},U=(0,s._)("button",{type:"button",class:"cancel-btn"},"취소",-1);function B(e,t,a,o,y,B){const I=(0,s.up)("HeaderLayout"),D=(0,s.up)("SubHeader"),F=(0,s.up)("FooterLayout");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s.Wm)(I),(0,s.Wm)(D),(0,s._)("div",r,[(0,s._)("strong",h,(0,n.zw)(y.boardName),1),(0,s._)("div",A,[(0,s._)("div",c,[(0,s.wy)((0,s._)("input",{type:"text",placeholder:"제목","onUpdate:modelValue":t[0]||(t[0]=t=>e.title=t)},null,512),[[i.nr,e.title]])]),(0,s._)("div",d,[(0,s.wy)((0,s._)("textarea",{placeholder:"내용","onUpdate:modelValue":t[1]||(t[1]=t=>e.content=t)},null,512),[[i.nr,e.content]]),(0,s._)("div",g,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(y.imagePreviews,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"image-preview-inner",key:t},[(0,s._)("img",{src:e.previewURL,alt:"Preview"},null,8,m),(0,s._)("div",u,(0,n.zw)(e.name),1),(0,s._)("button",{onClick:e=>B.removeImage(t)},"삭제",8,p)])))),128))])]),(0,s._)("div",w,[(0,s._)("div",v,[(0,s._)("div",b,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(y.hashtags,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"hashtag",key:t},[(0,s.Uk)(" # "+(0,n.zw)(e)+" ",1),(0,s._)("button",{class:"remove-hashtag-btn",onClick:e=>B.removeHashtag(t)},L,8,f)])))),128)),(0,s.Uk)(" # "),(0,s.wy)((0,s._)("input",{type:"text",placeholder:"태그 입력 (최대 20개)","onUpdate:modelValue":t[2]||(t[2]=e=>y.newHashtag=e),onKeyup:t[3]||(t[3]=(0,i.D2)(((...e)=>B.addHashtag&&B.addHashtag(...e)),["enter"]))},null,544),[[i.nr,y.newHashtag]])])])]),(0,s._)("div",k,[(0,s._)("div",C,[H,(0,s._)("input",{type:"file",ref:"fileInput",multiple:"",onChange:t[4]||(t[4]=(...e)=>B.handleFileChange&&B.handleFileChange(...e))},null,544)]),(0,s._)("div",Q,[U,(0,s._)("button",{type:"submit",class:"register-btn",onClick:t[5]||(t[5]=(...e)=>B.submitPost&&B.submitPost(...e))},"등록")])])])]),(0,s.Wm)(F)])}a(7658),a(6229),a(7330),a(2062);var I=a(6154),D=a(9937),F=a(2915),x=a(4014),E={name:"EditView",data(){return{headers:[],link:"",imagePreviews:[],newHashtag:"",hashtags:[],boardName:"",isAnonymous:!1}},created(){this.setupHeaders(),this.getBoardName()},components:{HeaderLayout:D.Z,SubHeader:F.Z,FooterLayout:x.Z},methods:{setupHeaders(){const e=localStorage.getItem("token");this.link="http://"+window.location.host,this.headers={Authorization:`Bearer ${e}`,"Content-Type":"application/json"}},getBoardName(){const e=this.$route.query.boardId;I.Z.get(`/api/post/getBoard/${e}`,{headers:this.headers}).then((e=>{this.boardName=e.data.boardName})).catch((e=>{console.error(e)}))},addHashtag(){""!==this.newHashtag.trim()&&(this.hashtags.push(this.newHashtag),this.newHashtag="")},removeHashtag(e){this.hashtags.splice(e,1)},handleFileChange(e){const t=e.target.files;for(let a=0;a<t.length;a++){const e=t[a],s=new FileReader;s.onload=()=>{this.imagePreviews.push({previewURL:s.result,name:e.name,file:e})},s.readAsDataURL(e)}},removeImage(e){const t=this.imagePreviews.splice(e,1)[0];t&&t.file&&URL.revokeObjectURL(t.previewURL)},submitPost(){const e={title:this.title,content:this.content,hashtags:this.hashtags,isAnonymous:this.isAnonymous,images:[]};for(const t of this.imagePreviews)this.uploadImageUrl(t.file).then((t=>{e.images.push(t),e.images.length===this.imagePreviews.length&&console.log("Data to be submitted:",e)})).catch((e=>{console.error("Error converting image to Base64:",e)}))},uploadImageUrl(e){return new Promise(((t,a)=>{const s=new FileReader;s.onload=()=>{const e=s.result.split(",")[1];t(e)},s.onerror=e=>{a(e)},s.readAsDataURL(e)}))}}},N=a(3744);const R=(0,N.Z)(E,[["render",B]]);var _=R}}]);
//# sourceMappingURL=38.1626b45c.js.map