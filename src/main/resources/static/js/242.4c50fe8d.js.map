{"version":3,"file":"js/242.4c50fe8d.js","mappings":"qSACOA,MAAM,a,GAIJA,MAAM,kB,GACJA,MAAM,gB,GACDA,MAAM,c,GACTA,MAAM,e,GAMRA,MAAM,a,4BAIAA,MAAM,mB,GACFA,MAAM,wB,SACeA,MAAM,c,GAC3BA,MAAM,S,uBAQVA,MAAM,gB,GAENA,MAAM,oB,GACJA,MAAM,qB,GACJA,MAAM,e,UACTC,EAAAA,EAAAA,GAAkF,OAA7EC,IAAAC,EAAwCC,MAAA,8B,cAG1CJ,MAAM,Y,UACTC,EAAAA,EAAAA,GAAoF,OAA/EC,IAAAG,EAA0CD,MAAA,8B,cAG5CJ,MAAM,Y,UACTC,EAAAA,EAAAA,GAA8E,OAAzEC,IAAAI,EAAoCF,MAAA,8B,cAKxCJ,MAAM,oB,GACJA,MAAM,U,GACNA,MAAM,Q,GAQhBA,MAAM,e,GACJA,MAAM,gB,kBAEJA,MAAM,mB,gCAYVA,MAAM,Y,UAEPC,EAAAA,EAAAA,GAAsC,UAA9BD,MAAM,aAAY,OAAG,K,wJAzErCO,EAAAA,EAAAA,IA8EM,MA9ENC,EA8EM,EA7EJC,EAAAA,EAAAA,IAAgBC,IAChBD,EAAAA,EAAAA,IAAaE,IAEbV,EAAAA,EAAAA,GAwEM,MAxENW,EAwEM,EAvEJX,EAAAA,EAAAA,GAMM,MANNY,EAMM,EALJZ,EAAAA,EAAAA,GAAmD,SAAnDa,GAAmDC,EAAAA,EAAAA,IAArBC,EAAAC,WAAS,IACvChB,EAAAA,EAAAA,GAGM,MAHNiB,EAGM,WAFJjB,EAAAA,EAAAA,GAAmE,SAA5DkB,KAAK,S,qCAAkBC,EAAAC,QAAOC,GAAEC,YAAY,e,iBAArBH,EAAAC,YAC9BpB,EAAAA,EAAAA,GAAkE,OAA7DC,IAAAsB,EAAwCC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,YAAAD,EAAAC,cAAAF,WAIxD1B,EAAAA,EAAAA,GAyCM,MAzCN6B,EAyCM,EAxCJ7B,EAAAA,EAAAA,GAuCK,0BAtCHM,EAAAA,EAAAA,IAqCKwB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IArC4BhB,EAAAiB,QAATC,K,WAAxB3B,EAAAA,EAAAA,IAqCK,MArCDP,MAAM,OAAgCmC,IAAKD,EAAME,OAASX,QAAKH,GAAEM,EAAAS,YAAYH,EAAME,S,EACrFnC,EAAAA,EAAAA,GAmCI,KAnCAqC,KAAI,kBAAsBJ,EAAME,Q,EACpCnC,EAAAA,EAAAA,GASM,MATNsC,EASM,EARFtC,EAAAA,EAAAA,GAGI,MAHJuC,EAGI,CAFWxB,EAAAyB,YAAS,WAApBlC,EAAAA,EAAAA,IAA0E,MAA1EmC,GAA0E3B,EAAAA,EAAAA,IAA9BmB,EAAMA,MAAMjB,WAAS,qBACrEhB,EAAAA,EAAAA,GAA0C,MAA1C0C,GAA0C5B,EAAAA,EAAAA,IAApBmB,EAAMU,OAAK,MAEnC3C,EAAAA,EAAAA,GAGE,OAFCC,IAAKgC,EAAMW,QAAU7B,EAAA8B,eAAiB9B,EAAA+B,SACtCtB,QAAKH,GAAEM,EAAAoB,UAAUd,EAAOA,EAAME,S,aAInCnC,EAAAA,EAAAA,GAAmD,MAAnDgD,GAAmDlC,EAAAA,EAAAA,IAAtBmB,EAAMgB,SAAO,IAE1CjD,EAAAA,EAAAA,GAoBM,MApBNkD,EAoBM,EAnBJlD,EAAAA,EAAAA,GAaM,MAbNmD,EAaM,EAZJnD,EAAAA,EAAAA,GAGM,MAHNoD,EAGM,CAFJC,GAAkF,gBAC/EvC,EAAAA,EAAAA,IAAGmB,EAAMqB,YAAU,MAExBtD,EAAAA,EAAAA,GAGM,MAHNuD,EAGM,CAFJC,GAAoF,gBACjF1C,EAAAA,EAAAA,IAAGmB,EAAMwB,OAAK,MAEnBzD,EAAAA,EAAAA,GAGM,MAHN0D,EAGM,CAFJC,GAA8E,iBAC1E7C,EAAAA,EAAAA,IAAGmB,EAAM2B,OAAK,QAItB5D,EAAAA,EAAAA,GAGM,MAHN6D,EAGM,EAFJ7D,EAAAA,EAAAA,GAAqD,MAArD8D,GAAqDhD,EAAAA,EAAAA,IAA9BmB,EAAM8B,OAAOC,UAAQ,IAC5ChE,EAAAA,EAAAA,GAA6C,MAA7CiE,GAA6CnD,EAAAA,EAAAA,IAAxBmB,EAAMiC,WAAS,sB,WAQ9ClE,EAAAA,EAAAA,GAaM,MAbNmE,EAaM,EAZJnE,EAAAA,EAAAA,GAWM,MAXNoE,EAWM,EAVJpE,EAAAA,EAAAA,GAAyF,OAApFD,MAAM,WAAYyB,QAAKC,EAAA,KAAAA,EAAA,GAAAJ,GAAEM,EAAA0C,SAAS,aAAcC,SAAyB,IAAfvD,EAAAwD,YAAkB,KAAE,EAAAC,IACnFxE,EAAAA,EAAAA,GAOM,MAPNyE,EAOM,gBANJnE,EAAAA,EAAAA,IAKMwB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IALchB,EAAA2D,YAARC,K,WAAZrE,EAAAA,EAAAA,IAKM,OAJH4B,IAAKyC,EAAO,EACZ5E,OAAK6E,EAAAA,EAAAA,IAAA,IAAUD,EAAO,IAAM5D,EAAAwD,aAC5B/C,QAAKH,GAAEM,EAAAkD,SAASF,EAAO,K,QACrBA,GAAI,GAAAG,M,SAGX9E,EAAAA,EAAAA,GAAkG,OAA7FD,MAAM,WAAYyB,QAAKC,EAAA,KAAAA,EAAA,GAAAJ,GAAEM,EAAA0C,SAAS,SAAUC,SAAUvD,EAAAwD,aAAexD,EAAA2D,WAAa,GAAG,KAAE,EAAAK,QAIhG/E,EAAAA,EAAAA,GAIM,MAJNgF,EAIM,EAHJxE,EAAAA,EAAAA,IAEcyE,EAAA,CAFAC,GAAE,iBAAqBnE,EAAAoE,QAASpF,MAAM,qB,mBAClD,IAAsC,CAAtCqF,K,oBAIN5E,EAAAA,EAAAA,IAAgB6E,I,6CAWpB,GACEC,KAAM,WACNC,WAAY,CACVC,aAAY,IACZC,UAAS,IACTC,aAAYA,EAAAA,GAEdC,IAAAA,GACE,MAAO,CACLC,QAAS,GACTC,KAAM,GACN7D,OAAQ,GACRhB,UAAW,GACX8B,SAAUgD,EAAQ,MAClBjD,eAAgBiD,EAAQ,MACxBvB,WAAY,EACZG,WAAY,GACZlC,WAAW,EACX2C,QAASY,KAAKC,OAAOC,MAAMd,QAE/B,EACAe,OAAAA,GACEH,KAAKI,eACLJ,KAAKK,YACLL,KAAKM,cACP,EACAC,QAAS,CACPH,YAAAA,GACE,MAAMI,EAAQC,aAAaC,QAAQ,SAEnCV,KAAKF,KAAO,UAAYa,OAAOC,SAASC,KACxCb,KAAKH,QAAU,CACb,cAAkB,UAASW,IAC3B,eAAgB,mBAEpB,EACAxD,SAAAA,CAAUd,EAAOE,GAEb0E,MAAMC,iBAENC,QAAQC,IAAI/E,GAEZA,EAAMW,SAAWX,EAAMW,QAEvB,MAAM+C,EAAO,CACL,MAASxD,EACT,WAAc,SAEtB8E,EAAAA,EACCC,KAAM,mCAAmCvB,EAAM,CAAEC,QAASG,KAAKH,UAC/DuB,MAAKC,IACJL,QAAQC,IAAII,EAASzB,KAAK0B,QAG1BtB,KAAKuB,cAAc,IAEpBC,OAAMC,IACLT,QAAQU,MAAMD,EAAI,GAExB,EACAnB,YAAAA,GACE,MAAMlB,EAAUY,KAAKC,OAAOC,MAAMd,QAElC8B,EAAAA,EACGS,IAAK,sBAAqBvC,IAAW,CAAES,QAASG,KAAKH,UACrDuB,MAAKC,IACJrB,KAAK/E,UAAYoG,EAASzB,KAAK3E,SAAS,IAEzCuG,OAAMC,IACLT,QAAQU,MAAMD,EAAI,GAExB,EACApF,WAAAA,CAAYD,GACR8E,EAAAA,EACCC,KAAM,wBAAwB,CAAE/E,UAAU,CAAEyD,QAASG,KAAKH,UAC1DuB,MAAKC,IACJL,QAAQC,IAAI,UAAYI,EAASzB,KAAK,IAEvC4B,OAAMC,IACLT,QAAQU,MAAMD,EAAI,GAExB,EACApB,SAAAA,GACE,MAAMjB,EAAUY,KAAKC,OAAOC,MAAMd,QAC5BwC,EAAgB5B,KAAKC,OAAOC,MAAM0B,cAExCZ,QAAQC,IAAI,aAAejB,KAAKxB,YAChC,MAAMoB,EAAO,CACTiC,OAAQ,CACJjD,KAAMoB,KAAKxB,WACXsD,KAAM,KAId,IAAIC,EAAM,GAENH,IACAG,EAAM,wBAA0BH,EAGhC5B,KAAK/E,UAAY,KAEjB+E,KAAKvD,WAAY,GAGjB2C,IACA2C,EAAM,6BAA+B3C,GAGzC8B,EAAAA,EACKS,IAAII,EAAKnC,EAAM,CAAEC,QAASG,KAAKH,UAC/BuB,MAAKC,IACFL,QAAQC,IAAII,EAASzB,KAAKoC,OAC1BhC,KAAK/D,OAASoF,EAASzB,KAAKoC,MAG5BhC,KAAKrB,WAAa0C,EAASzB,KAAKjB,UAAU,IAE7C6C,OAAMC,IACHT,QAAQU,MAAMD,EAAI,GAE5B,EACA5F,UAAAA,GACE,IAAKmE,KAAK3E,QAAS,OAEnB,MAAM+D,EAAUY,KAAKC,OAAOC,MAAMd,QAElC8B,EAAAA,EACGS,IAAK,sBAAqBvC,KAAWY,KAAK3E,UAAW,CAAEwE,QAASG,KAAKH,UACrEuB,MAAKC,IACJrB,KAAK/D,OAASoF,EAASzB,KAAKoC,MAG5BhC,KAAKrB,WAAa0C,EAASzB,KAAKjB,UAAU,IAE3C6C,OAAMC,IACLT,QAAQU,MAAMD,EAAI,GAExB,EACAnD,QAAAA,CAAS2D,GACQ,aAAXA,GAAyBjC,KAAKxB,WAAa,EAC7CwB,KAAKxB,aACe,SAAXyD,GAAqBjC,KAAKxB,WAAawB,KAAKrB,WAAa,GAClEqB,KAAKxB,aAIPwB,KAAKK,WACP,EACAvB,QAAAA,CAASF,GACHA,GAAQ,GAAKA,GAAQoB,KAAKrB,WAAa,IACzCqB,KAAKxB,WAAaI,EAGlBoB,KAAKK,YAET,I,UC9OJ,MAAM6B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://frontend/./src/views/ListView.vue","webpack://frontend/./src/views/ListView.vue?c025"],"sourcesContent":["<template>\r\n  <div class=\"list-view\">\r\n    <HeaderLayout />\r\n    <SubHeader />\r\n\r\n    <div class=\"full-container\">\r\n      <div class=\"sub-top-wrap\">\r\n        <strong class=\"board-name\">{{ boardName }}</strong>\r\n        <div class=\"search-wrap\">\r\n          <input type=\"search\" v-model=\"keyword\" placeholder=\"내용을 입력해주세요.\" />\r\n          <img src=\"@/assets/images/fi-rr-search.png\" @click=\"fetchPosts\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"list-wrap\">\r\n        <ul>\r\n          <li class=\"list\" v-for=\"board in boards\" :key=\"board.postId\" @click=\"updateViews(board.postId)\">\r\n            <a :href=\"'/detail?postId=' + board.postId\">\r\n            <div class=\"list-title-wrap\">\r\n                <div class=\"boardname-title-wrap\">\r\n                    <div v-if=\"isAllList\" class=\"board-name\">{{ board.board.boardName }}</div>\r\n                <div class=\"title\">{{ board.title }}</div>\r\n              </div>\r\n              <img \r\n                :src=\"board.scraped ? scrapImgActive : scrapImg\" \r\n                @click=\"changeImg(board, board.postId)\" \r\n              />\r\n            </div>\r\n\r\n            <div class=\"list-content\">{{ board.content }}</div>\r\n\r\n            <div class=\"list-detail-info\">\r\n              <div class=\"comment-like-wrap\">\r\n                <div class=\"comment-box\">\r\n                  <img src=\"@/assets/images/fi-rr-comment.png\" style=\"width: 12px; height: 12px;\" />\r\n                  댓글 {{ board.commentCnt }}\r\n                </div>\r\n                <div class=\"like-box\">\r\n                  <img src=\"@/assets/images/fi-rr-thumbs-up.png\" style=\"width: 14px; height: 14px;\" />\r\n                  공감 {{ board.likes }}\r\n                </div>\r\n                <div class=\"view-box\">\r\n                  <img src=\"@/assets/images/fi-rr-eye.png\" style=\"width: 14px; height: 14px;\" />\r\n                  조회수 {{ board.views }}\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"writer-date-wrap\">\r\n                <div class=\"writer\">{{ board.author.nickname }}</div>\r\n                <div class=\"date\">{{ board.createdAt }}</div>\r\n              </div>\r\n            </div>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div class=\"paging-wrap\">\r\n        <div class=\"paging-inner\">\r\n          <div class=\"prev-btn\" @click=\"loadPage('previous')\" :disabled=\"pageNumber === 0\">이전</div>\r\n          <div class=\"paging-num-wrap\">\r\n            <div v-for=\"page in totalPages\" \r\n              :key=\"page - 1\" \r\n              :class=\"{ 'on': page - 1 === pageNumber }\" \r\n              @click=\"gotoPage(page - 1)\">\r\n              {{ page }}\r\n            </div>\r\n          </div>\r\n          <div class=\"next-btn\" @click=\"loadPage('next')\" :disabled=\"pageNumber === totalPages - 1\">다음</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"btn-wrap\">\r\n        <router-link :to=\"'/edit?boardId=' + boardId\" class=\"router-link-class\">\r\n          <button class=\"write-btn\">글쓰기</button>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n    <FooterLayout />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nimport HeaderLayout from '@/components/layout/HeaderLayout.vue';\r\nimport SubHeader from '@/components/layout/SubHeader.vue';\r\nimport FooterLayout from '@/components/layout/FooterLayout.vue';\r\n\r\nexport default {\r\n  name: 'ListView',\r\n  components: {\r\n    HeaderLayout,\r\n    SubHeader,\r\n    FooterLayout,\r\n  },\r\n  data() {\r\n    return {\r\n      headers: [],\r\n      link: '',\r\n      boards: [],\r\n      boardName: '',\r\n      scrapImg: require('@/assets/images/fi-rr-bookmark.png'),\r\n      scrapImgActive: require('@/assets/images/fi-sr-bookmark.png'),\r\n      pageNumber: 0,\r\n      totalPages: '',\r\n      isAllList: false,\r\n      boardId: this.$route.query.boardId,\r\n    };\r\n  },\r\n  created() {\r\n    this.setupHeaders();\r\n    this.fetchData();\r\n    this.getBoardName();\r\n  },\r\n  methods: {\r\n    setupHeaders() { /* http 요청 헤더를 설정하고 엔드포인트에 대한 인증 토큰을 포함 */\r\n      const token = localStorage.getItem('token');\r\n      \r\n      this.link = 'http://' + window.location.host;\r\n      this.headers = {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n      };\r\n    },\r\n    changeImg(board, postId) { /* 스크랩 상태 전환 */\r\n        /* 이벤트의 기본 동작을 막음 (ex. 스크랩 아이콘 클릭 시, /detail 화면 이동 막음) */\r\n        event.preventDefault();\r\n        \r\n        console.log(board);\r\n        /* 스크랩 상태를 전환 */\r\n        board.scraped = !board.scraped;\r\n        \r\n        const data = {\r\n                \"refId\": postId,\r\n                \"actionType\": \"scrap\"\r\n        }\r\n        axios\r\n        .post(`/api/post/changeEngagementAction`, data, { headers: this.headers })\r\n        .then(response => {\r\n          console.log(response.data.status);\r\n          \r\n          /* 강제로 렌더링 */\r\n          this.$forceUpdate();\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    getBoardName() { /* 게시판 이름 가져옴 */\r\n      const boardId = this.$route.query.boardId;\r\n      \r\n      axios\r\n        .get(`/api/post/getBoard/${boardId}`, { headers: this.headers })\r\n        .then(response => {\r\n          this.boardName = response.data.boardName;\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    updateViews(postId) { /* 조회수 업데이트 */\r\n        axios\r\n        .post(`/api/post/updateViews`, { postId }, { headers: this.headers })\r\n        .then(response => {\r\n          console.log(\"views: \" + response.data);\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    fetchData() { /* 데이터 조회 함수: 전체 게시글 검색 및 게시글 리스트 조회 */\r\n      const boardId = this.$route.query.boardId;\r\n      const commonKeyword = this.$route.query.commonKeyword;\r\n  \r\n      console.log(\"pageNumber\" + this.pageNumber);\r\n      const data = {\r\n          params: {\r\n              page: this.pageNumber,\r\n              size: 10\r\n          }\r\n      };\r\n  \r\n      var url = \"\";\r\n  \r\n      if (commonKeyword) { /* 헤더에 있는 검색창에서 검색 시, 공통 검색어 리스트 조회 */\r\n          url = \"/api/common/getPosts/\" + commonKeyword;\r\n          \r\n          /* 현재 게시판 이름을 \"전체\"로 설정 */\r\n          this.boardName = \"전체\";\r\n          /* 전체 게시글 리스트 플래그 활성화 */\r\n          this.isAllList = true;\r\n      } \r\n  \r\n      if (boardId) { /* 해당 게시글 리스트 조회 */\r\n          url = \"/api/post/getPostsByBoard/\" + boardId;\r\n      }\r\n  \r\n      axios\r\n          .get(url, data, { headers: this.headers })\r\n          .then(response => {\r\n              console.log(response.data.posts);\r\n              this.boards = response.data.posts;\r\n              \r\n              /* 전체 페이지 수 할당 */\r\n              this.totalPages = response.data.totalPages;\r\n          })\r\n          .catch(err => {\r\n              console.error(err);\r\n          });\r\n    },\r\n    fetchPosts() { /* 게시글 리스트 내에서 검색 시, 실행되는 함수 */\r\n      if (!this.keyword) return;\r\n        \r\n      const boardId = this.$route.query.boardId;\r\n      \r\n      axios\r\n        .get(`/api/post/getPosts/${boardId}/${this.keyword}`, { headers: this.headers })\r\n        .then(response => {\r\n          this.boards = response.data.posts;\r\n\r\n          /* 전체 페이지 수 할당 */\r\n          this.totalPages = response.data.totalPages;\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        });\r\n    },\r\n    loadPage(action) { /* 페이지를 이전 또는 다음으로 이동 */\r\n      if (action === 'previous' && this.pageNumber > 0) {\r\n        this.pageNumber--;\r\n      } else if (action === 'next' && this.pageNumber < this.totalPages - 1) {\r\n        this.pageNumber++;\r\n      }\r\n      \r\n      /* 게시글 리스트 재조회 */\r\n      this.fetchData();\r\n    },\r\n    gotoPage(page) { /* 페이지 번호를 지정된 페이지로 이동  */\r\n      if (page >= 0 && page <= this.totalPages - 1) {\r\n        this.pageNumber = page;\r\n\r\n        /* 게시글 리스트 재조회 */\r\n        this.fetchData();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"@/assets/scss/list.scss\";\r\n@import \"@/assets/scss/pattern.scss\";\r\n</style>\r\n","import { render } from \"./ListView.vue?vue&type=template&id=a35b9080&scoped=true\"\nimport script from \"./ListView.vue?vue&type=script&lang=js\"\nexport * from \"./ListView.vue?vue&type=script&lang=js\"\n\nimport \"./ListView.vue?vue&type=style&index=0&id=a35b9080&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a35b9080\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","_imports_1","style","_imports_2","_imports_3","_createElementBlock","_hoisted_1","_createVNode","_component_HeaderLayout","_component_SubHeader","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$data","boardName","_hoisted_5","type","_ctx","keyword","$event","placeholder","_imports_0","onClick","_cache","args","$options","fetchPosts","_hoisted_6","_Fragment","_renderList","boards","board","key","postId","updateViews","href","_hoisted_9","_hoisted_10","isAllList","_hoisted_11","_hoisted_12","title","scraped","scrapImgActive","scrapImg","changeImg","_hoisted_14","content","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","commentCnt","_hoisted_19","_hoisted_20","likes","_hoisted_21","_hoisted_22","views","_hoisted_23","_hoisted_24","author","nickname","_hoisted_25","createdAt","_hoisted_26","_hoisted_27","loadPage","disabled","pageNumber","_hoisted_28","_hoisted_29","totalPages","page","_normalizeClass","gotoPage","_hoisted_30","_hoisted_31","_hoisted_32","_component_router_link","to","boardId","_hoisted_33","_component_FooterLayout","name","components","HeaderLayout","SubHeader","FooterLayout","data","headers","link","require","this","$route","query","created","setupHeaders","fetchData","getBoardName","methods","token","localStorage","getItem","window","location","host","event","preventDefault","console","log","axios","post","then","response","status","$forceUpdate","catch","err","error","get","commonKeyword","params","size","url","posts","action","__exports__","render"],"sourceRoot":""}